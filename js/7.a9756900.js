(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"46fe":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"q-gutter-y-md q-mx-auto",staticStyle:{"max-width":"600px"}},[a("div",{staticClass:"panel-wrap"},[a("q-card",{staticClass:"panel q-mb-lg"},[a("section",{staticClass:"q-pa-lg"},[a("div",{staticClass:"text-primary text-subtitle1 text-bold text-center q-pb-sm"},[e._v("Your current balances:")]),a("div",{staticClass:"balance-list"},[a("div",{staticClass:"q-mb-sm q-mr-xs q-ml-xs bg-info text-center"},[a("div",{staticClass:"text-bold text-subtitle1 font-bold",staticStyle:{"line-height":"1"}},[a("AbbreviateNumber",{attrs:{value:e.user.freeosBalance}})],1),a("div",{staticClass:"text-bold text-primary"},[e._v("FREEOS")])]),a("div",{staticClass:"q-mb-sm q-mr-xs q-ml-xs bg-info text-center"},[a("div",{staticClass:"text-bold text-subtitle1 font-bold",staticStyle:{"line-height":"1"}},[a("AbbreviateNumber",{attrs:{value:e.user.freebiBalance}})],1),a("div",{staticClass:"text-bold text-primary"},[e._v("FREEBI")])])])]),a("div",{staticClass:"flex justify-center",staticStyle:{"flex-direction":"row"}},[a("q-btn",{staticClass:"tab-btn",class:{"tab-btn--unselected":!e.isFreeosTabSelected},attrs:{outline:"",unelevated:"","no-caps":""},on:{click:function(t){e.isFreeosTabSelected=!e.isFreeosTabSelected}}},[e._v("Send FREEOS")]),a("q-btn",{staticClass:"tab-btn",class:{"tab-btn--unselected":e.isFreeosTabSelected},attrs:{outline:"",unelevated:"","no-caps":""},on:{click:function(t){e.isFreeosTabSelected=!e.isFreeosTabSelected}}},[e._v("Send FREEBI")])],1),e.isFreeosTabSelected?a("section",{staticClass:"q-pa-lg tabform"},[a("div",{staticClass:"text-center q-pb-lg q-px-lg"},[e._v("\n                        For more info on sending Freeos "),a("a",{attrs:{target:"_blank",title:"Info on transfers",href:"https://docs.freeos.io/d/h/6k0z3-408/43bbcca7c54387a/6k0z3-1402"}},[e._v("click here")]),e._v(".\n                    ")]),e.user.freeosBalance!=e.zeroBalance?a("div",[a("div",{staticClass:"row justify-center q-mb-md q-pl-md q-pr-md q-ml-md q-mr-md q-pb-xs"},[a("div",{staticClass:"col-xs-5 col-sm-4"},[a("p",{staticClass:"q-mt-sm q-mb-none"},[e._v("To account:")])]),a("div",{staticClass:"col-xs-6 col-sm-8"},[a("q-input",{attrs:{maxlength:"20",required:"",debounce:"500",rules:[e.validateUsername()],type:"text",outlined:"",dense:""},scopedSlots:e._u([{key:"hint",fn:function(){return[e.toFreeosValidated?a("p",{staticClass:"q-mb-none text-grey"},[e._v("Proton Account is valid")]):e._e(),0==e.toFreeosValidated?a("p",{staticClass:"q-mb-none text-red"},[e._v('Please use a valid Proton account without "@" symbol')]):e._e(),null==e.toFreeosValidated?a("p",{staticClass:"q-mb-none text-grey"},[e._v('Proton account without "@" symbol')]):e._e()]},proxy:!0}],null,!1,1226197751),model:{value:e.freeosData.to,callback:function(t){e.$set(e.freeosData,"to",t)},expression:"freeosData.to"}})],1)]),a("div",{staticClass:"row justify-center q-mb-md q-pl-md q-pr-md q-ml-md q-mr-md q-pb-xs"},[a("div",{staticClass:"col-xs-5 col-sm-4"},[a("p",{staticClass:"q-mt-sm q-mb-none"},[e._v("Amount:")])]),a("div",{staticClass:"col-xs-6 col-sm-8"},[a("q-input",{attrs:{type:"number",step:"0.0001",required:"",outlined:"",dense:"",novalidate:""},model:{value:e.freeosData.quantity,callback:function(t){e.$set(e.freeosData,"quantity",t)},expression:"freeosData.quantity"}},[a("q-btn",{staticClass:"max-btn",attrs:{size:"sm",unelevated:"","no-caps":"",outline:"",color:"secondary"},on:{click:function(t){return e.maxAmount(!1,t)}}},[e._v("Max")])],1),a("p",{staticClass:"q-mb-none text-grey"},[a("small",[e._v(e._s(e.currencyAvailable))])])],1)]),a("div",{staticClass:"row justify-center q-mb-md q-pl-md q-pr-md q-ml-md q-mr-md q-pb-xs"},[a("div",{staticClass:"col-xs-5 col-sm-4"},[a("p",{staticClass:"q-mt-sm q-mb-none"},[e._v("Memo:")])]),a("div",{staticClass:"col-xs-6 col-sm-8"},[a("q-input",{attrs:{maxlength:"256",type:"text",outlined:"",dense:""},model:{value:e.freeosData.memo,callback:function(t){e.$set(e.freeosData,"memo",t)},expression:"freeosData.memo"}})],1)]),a("div",{staticClass:"text-center q-mt-lg"},[a("q-btn",{staticClass:"full-width",attrs:{size:"lg",unelevated:"","no-caps":"",color:"primary",disable:!e.canSendFreeos},on:{click:function(t){return e.submit()}}},[e._v("Send")])],1)]):e._e(),e.user.freeosBalance==e.zeroBalance?a("div",[a("p",{staticClass:"text-center"},[e._v("You don't have any balance to transfer.")])]):e._e()]):e._e(),e.isFreeosTabSelected?e._e():a("section",{staticClass:"tabform"},[a("p",{staticClass:"bg-primary text-center text-white q-py-md"},[a("b",[e._v("Freebi transaction fee is currently "+e._s(e.freebixfee)+"%")])]),a("div",{staticClass:"text-center q-px-lg"},[e._v("\n                        For more info on sending Freebi "),a("a",{attrs:{target:"_blank",title:"Info on transfers",href:"https://docs.freeos.io/d/h/6k0z3-408/43bbcca7c54387a/6k0z3-1402"}},[e._v("click here")]),e._v(".\n                    ")]),e.user.freebiBalance!=e.zeroBalance?a("div",{staticClass:"q-pa-lg"},[a("div",{staticClass:"row justify-center q-mb-md q-pl-md q-pr-md q-ml-md q-mr-md q-pb-xs"},[a("div",{staticClass:"col-xs-5 col-sm-4"},[a("p",{staticClass:"q-mt-sm q-mb-none"},[e._v("To account:")])]),a("div",{staticClass:"col-xs-6 col-sm-8"},[a("q-input",{attrs:{maxlength:"20",required:"",debounce:"500",rules:[e.validateUsername()],type:"text",outlined:"",dense:""},scopedSlots:e._u([{key:"hint",fn:function(){return[e.toFreebiValidated?a("p",{staticClass:"q-mb-none text-grey"},[e._v("Proton Account is valid")]):e._e(),0==e.toFreebiValidated?a("p",{staticClass:"q-mb-none text-red"},[e._v('Please use a valid Proton account without "@" symbol')]):e._e(),null==e.toFreebiValidated?a("p",{staticClass:"q-mb-none text-grey"},[e._v('Proton account without "@" symbol')]):e._e()]},proxy:!0}],null,!1,2931938240),model:{value:e.freebiData.to,callback:function(t){e.$set(e.freebiData,"to",t)},expression:"freebiData.to"}})],1)]),a("div",{staticClass:"row justify-center q-mb-md q-pl-md q-pr-md q-ml-md q-mr-md q-pb-xs"},[a("div",{staticClass:"col-xs-5 col-sm-4"},[a("p",{staticClass:"q-mt-sm q-mb-none"},[e._v("Transfer Amount:")])]),a("div",{staticClass:"col-xs-6 col-sm-8"},[a("q-input",{attrs:{type:"number",step:"0.0001",required:"",outlined:"",dense:"",novalidate:""},on:{input:function(t){return e.updateFreebiAmount(!1)},change:function(t){return e.updateFreebiAmount(!1)}},model:{value:e.freebiData.quantity,callback:function(t){e.$set(e.freebiData,"quantity",t)},expression:"freebiData.quantity"}},[a("q-btn",{staticClass:"max-btn",attrs:{size:"sm",unelevated:"","no-caps":"",outline:"",color:"secondary"},on:{click:function(t){return e.maxAmount(!1,t)}}},[e._v("Max")])],1),a("p",{staticClass:"q-mb-none text-grey"},[a("small",[e._v(e._s(e.currencyAvailable))])])],1)]),a("div",{staticClass:"row justify-center q-mb-md q-pl-md q-pr-md q-ml-md q-mr-md q-pb-xs"},[a("div",{staticClass:"col-xs-5 col-sm-4"},[a("p",{staticClass:"q-mt-sm q-mb-none"},[e._v("Recipient will receive:")])]),a("div",{staticClass:"col-xs-6 col-sm-8"},[a("q-input",{attrs:{type:"number",step:"0.0001",required:"",outlined:"",dense:"",novalidate:""},on:{input:function(t){return e.updateFreebiAmount(!0)},change:function(t){return e.updateFreebiAmount(!0)}},model:{value:e.freebiRecipientAmount,callback:function(t){e.freebiRecipientAmount=t},expression:"freebiRecipientAmount"}},[a("q-btn",{staticClass:"max-btn",attrs:{size:"sm",unelevated:"","no-caps":"",outline:"",color:"secondary"},on:{click:function(t){return e.maxAmount(!0,t)}}},[e._v("Max")])],1),a("p",{staticClass:"q-mb-none text-grey"},[a("small",[e._v("Transfer amount minus "+e._s(e.freebixfee)+"% tax")])])],1)]),a("div",{staticClass:"row justify-center q-mb-md q-pl-md q-pr-md q-ml-md q-mr-md q-pb-xs"},[a("div",{staticClass:"col-xs-5 col-sm-4"},[a("p",{staticClass:"q-mt-sm q-mb-none"},[e._v("Memo:")])]),a("div",{staticClass:"col-xs-6 col-sm-8"},[a("q-input",{attrs:{maxlength:"256",type:"text",outlined:"",dense:""},model:{value:e.freebiData.memo,callback:function(t){e.$set(e.freebiData,"memo",t)},expression:"freebiData.memo"}})],1)]),e.canSendFreebi?a("div",{staticClass:"text-center q-mt-lg"},[a("p",{staticClass:"text-primary text-subtitle1 text-bold text-center q-mb-none"},[e._v("Summary:")]),a("p",[e._v("You will send "+e._s(e.freebiData.quantity)+" "+e._s(e.freebiData.token)+".\n                                "),a("br"),e._v(" @"+e._s(e.freebiData.to)+" will receive "+e._s(e.freebiRecipientAmount)+" "+e._s(e.freebiData.token)+" after "+e._s(e.freebixfee)+"% tax.")])]):e._e(),a("div",{staticClass:"text-center q-mt-lg"},[a("q-btn",{staticClass:"full-width",attrs:{size:"lg",unelevated:"","no-caps":"",color:"primary",disable:!e.canSendFreebi},on:{click:function(t){return e.submit()}}},[e._v("Send")])],1)]):e._e(),e.user.freebiBalance==e.zeroBalance?a("div",{staticClass:"q-pa-lg"},[a("p",{staticClass:"text-center"},[e._v("You don't have any balance to transfer.")])]):e._e()])]),a("q-card",{staticClass:"panel q-mt-lg q-pa-lg text-center"},[a("div",{staticClass:"text-h4"},[e._v("Receive Tokens")]),a("div",{staticClass:"text-center q-pb-xs"},[a("small",[e._v("For more info "),a("a",{attrs:{target:"_blank",title:"Info on transfers",href:"https://docs.freeos.io/d/h/6k0z3-408/43bbcca7c54387a/6k0z3-1402"}},[e._v("click here")]),e._v(".")])]),a("div",{staticClass:"q-mt-md text-center text-h5"},[e._v("@"+e._s(e.accountName))]),e.isAuthenticated?a("q-btn",{staticClass:"q-mt-lg full-width",attrs:{href:"https://proton.alcor.exchange/",target:"_blank",unelevated:"","no-caps":"",outline:"",color:"primary"}},[e._v("Need Tokens? Try Alcor")]):e._e()],1)],1)]),a("CompleteDialog",{ref:"complete"})],1)},i=[],n=a("2f62"),r=a("37ca"),o=a("1852"),l={name:"Transfer",components:{CompleteDialog:r["a"],AbbreviateNumber:o["a"]},data(){return{isFreeosTabSelected:!0,stakeCurrency:"XPR",currencyName:"FREEOS",freeosData:{to:null,token:"FREEOS",quantity:null,memo:"",from:null},freebiData:{to:null,token:"FREEBI",quantity:null,memo:"",from:null},freebiRecipientAmount:null,isShowApprovedDialog:!1,isShowFailedDialog:!1,toFreebiValidated:null,toFreeosValidated:null}},computed:{...Object(n["c"])("freeos",["accountName","user","isAuthenticated","dparametersTable"]),currencyAvailable(){return this.currentMax+" "+this.currentToken+" available to transfer"},currentMax(){return this.isFreeosTabSelected?this.isFreeosTabSelected?this.user.freeosBalance:void 0:this.user.freebiBalance},currentMaxTaxed(){return this.calcFreebiTaxed(this.user.freebiBalance)},zeroBalance(){let e=0;return e.toFixed("4")},currentToken(){return this.isFreeosTabSelected?this.isFreeosTabSelected?this.freeosData.token:void 0:this.freebiData.token},currentQuantity(){return this.isFreeosTabSelected?this.isFreeosTabSelected?this.freeosData.quantity:void 0:this.freebiData.quantity},freebixfee(){let e=this.dparametersTable.filter((function(e){return"freebixfee"==e.paramname}));return e=e.length?parseFloat(e[0].value).toFixed(2):"",e},canSendFreebi(){return!(!this.toFreebiValidated||!this.freebiData.quantity||!this.freebiData.to||parseFloat(this.freebiData.quantity)>this.currentMax||parseFloat(this.freebiData.quantity)<=0)},canSendFreeos(){return!(!this.toFreeosValidated||!this.freeosData.quantity||!this.freeosData.to||parseFloat(this.freeosData.quantity)>this.currentMax||parseFloat(this.freeosData.quantity)<=0)}},methods:{...Object(n["b"])("freeos",["fetch","transfer","isValidUsername"]),maxAmount(e=!1,t){!this.isFreeosTabSelected&!e?this.freebiData.quantity=this.currentMax:!this.isFreeosTabSelected&e?this.freebiRecipientAmount=this.currentMaxTaxed:this.isFreeosTabSelected&&(this.freeosData.quantity=this.currentMax);let a=t.target.closest(".col-xs-6").querySelector("input");a&&a.dispatchEvent(new Event("change",{bubbles:!0}))},async submit(){var e=this.isFreeosTabSelected?Object.assign({},this.freeosData):Object.assign({},this.freebiData);e.from=this.accountName,e.quantity=`${parseFloat(e.quantity).toFixed("4")} ${e.token}`,console.log("dataToSubmit",e);var t=await this.transfer(e);t instanceof Error||this.$refs.complete.openDialog({title:"Woohoo",subtitle:"Your transfer to "+e.to+" was successful!",value:e.quantity,currency:e.token}),this.resetForm()},resetForm(){this.freeosData={to:null,token:"FREEOS",quantity:null,memo:"",from:null},this.freebiData={to:null,token:"FREEBI",quantity:null,memo:"",from:null},this.freebiRecipientAmount=null},updateFreebiAmount(e=!1){e?this.freebiData.quantity=this.freebiRecipientAmount/90*100:this.freebiRecipientAmount=this.calcFreebiTaxed(this.freebiData.quantity)},calcFreebiTaxed(e){return(e-e*this.freebixfee*.01).toFixed("4")},async validateUsername(){if(this.isFreeosTabSelected)if(this.freeosData.to){let e=await this.isValidUsername(this.freeosData.to);this.toFreeosValidated=!(!e||this.freeosData.to==this.accountName)}else this.toFreeosValidated=null;else if(this.freebiData.to){let e=await this.isValidUsername(this.freebiData.to);this.toFreebiValidated=!(!e||this.freebiData.to==this.accountName)}else this.toFreebiValidated=null}},watch:{currentQuantity(e,t){"number"==typeof e?e=e.toFixed("4"):"string"==typeof e&&(e=parseFloat(e).toFixed("4")),this.isFreeosTabSelected?this.freeosData.quantity=e:this.isFreeosTabSelected||(this.freebiData.quantity=e)},freebiRecipientAmount(e,t){"number"==typeof e?e=e.toFixed("4"):"string"==typeof e&&(e=parseFloat(e).toFixed("4")),this.freebiRecipientAmount=e}}},c=l,u=(a("a602"),a("c34d"),a("2877")),d=a("f09f"),m=a("9c40"),b=a("27f9"),f=a("8572"),p=a("eebe"),q=a.n(p),v=Object(u["a"])(c,s,i,!1,null,"6558d972",null);t["default"]=v.exports;q()(v,"components",{QCard:d["a"],QBtn:m["a"],QInput:b["a"],QField:f["a"]})},"4cb0":function(e,t,a){},"6f8e":function(e,t,a){},a602:function(e,t,a){"use strict";a("4cb0")},c34d:function(e,t,a){"use strict";a("6f8e")}}]);