(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"46fe":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"q-gutter-y-md q-mx-auto",staticStyle:{"max-width":"600px"}},[a("div",{staticClass:"panel-wrap"},[a("q-card",{staticClass:"panel q-mb-lg q-pa-lg"},[a("div",{staticClass:"text-h4 q-mb-lg text-center"},[t._v("Balances")]),a("div",{staticClass:"flex justify-between"},[a("div",{staticClass:"col col-auto"},[a("p",{staticClass:"q-mb-xs",staticStyle:{"line-height":"1"}},[a("small",[t._v("FREEOS")])]),a("AbbreviateNumber",{attrs:{value:t.user.freeosBalance}})],1),a("div",{staticClass:"col col-auto"},[a("p",{staticClass:"q-mb-xs",staticStyle:{"line-height":"1"}},[a("small",[t._v("FREEBI")])]),a("AbbreviateNumber",{attrs:{value:t.user.freebiBalance}})],1)])]),a("q-card",{staticClass:"panel q-pa-lg"},[a("div",{staticClass:"text-h4 text-center"},[t._v("Send Tokens")]),a("div",{staticClass:"text-center q-pb-lg"},[a("small",[t._v("For more info "),a("a",{attrs:{target:"_blank",title:"Info on transfers",href:"https://docs.freeos.io/d/h/6k0z3-408/43bbcca7c54387a/6k0z3-1402"}},[t._v("click here")]),t._v(".")])]),t.user.freeosBalance!=t.zeroBalance||t.user.freebiBalance!=t.zeroBalance?a("div",[a("div",{staticClass:"row justify-center q-mb-md q-pl-md q-pr-md q-ml-md q-mr-md q-pb-xs"},[a("div",{staticClass:"col-xs-5 col-sm-4"},[a("p",{staticClass:"q-mt-sm q-mb-none"},[t._v("To account:")])]),a("div",{staticClass:"col-xs-6 col-sm-8"},[a("q-input",{attrs:{maxlength:"12",required:"",type:"text",outlined:"",dense:""},model:{value:t.submitData.to,callback:function(e){t.$set(t.submitData,"to",e)},expression:"submitData.to"}}),a("p",{staticClass:"q-mb-none text-grey"},[a("small",[t._v('Proton account without "@" symbol')])])],1)]),a("div",{staticClass:"row justify-center q-mb-md q-pl-md q-pr-md q-ml-md q-mr-md q-pb-xs"},[a("div",{staticClass:"col-xs-5 col-sm-4"},[a("p",{staticClass:"q-mt-sm q-mb-none"},[t._v("Token:")])]),a("div",{staticClass:"col-xs-6 col-sm-8"},[a("q-select",{attrs:{required:"",dense:"",outlined:"",options:t.tokensSelectOptions},model:{value:t.submitData.token,callback:function(e){t.$set(t.submitData,"token",e)},expression:"submitData.token"}})],1)]),a("div",{staticClass:"row justify-center q-mb-md q-pl-md q-pr-md q-ml-md q-mr-md q-pb-xs"},[a("div",{staticClass:"col-xs-5 col-sm-4"},[a("p",{staticClass:"q-mt-sm q-mb-none"},[t._v("Amount:")])]),a("div",{staticClass:"col-xs-6 col-sm-8"},[a("q-input",{attrs:{type:"number",step:"0.0001",required:"",outlined:"",dense:"",novalidate:""},model:{value:t.submitData.quantity,callback:function(e){t.$set(t.submitData,"quantity",e)},expression:"submitData.quantity"}},[t.submitData.token?a("q-btn",{staticClass:"max-btn",attrs:{size:"sm",unelevated:"","no-caps":"",outline:"",color:"secondary"},on:{click:function(e){return t.maxAmount()}}},[t._v("Max")]):t._e()],1),a("p",{staticClass:"q-mb-none text-grey"},[a("small",[t._v(t._s(t.currencyAvailable))])])],1)]),a("div",{staticClass:"row justify-center q-mb-md q-pl-md q-pr-md q-ml-md q-mr-md q-pb-xs"},[a("div",{staticClass:"col-xs-5 col-sm-4"},[a("p",{staticClass:"q-mt-sm q-mb-none"},[t._v("Memo:")])]),a("div",{staticClass:"col-xs-6 col-sm-8"},[a("q-input",{attrs:{maxlength:"256",type:"text",outlined:"",dense:""},model:{value:t.submitData.memo,callback:function(e){t.$set(t.submitData,"memo",e)},expression:"submitData.memo"}})],1)]),a("div",{staticClass:"text-center q-mt-lg"},[a("q-btn",{staticClass:"full-width",attrs:{size:"lg",unelevated:"","no-caps":"",color:"primary",disable:!t.submitData.quantity||!t.submitData.to||!t.submitData.token||parseFloat(t.submitData.quantity)>t.currentMax||parseFloat(t.submitData.quantity)<=0},on:{click:function(e){return t.submit()}}},[t._v("Send")])],1)]):t._e(),t.user.freeosBalance==t.zeroBalance&&t.user.freebiBalance==t.zeroBalance?a("div",[a("p",{staticClass:"text-center"},[t._v("You don't have any balance to transfer.")])]):t._e()]),a("q-card",{staticClass:"panel q-mt-lg q-pa-lg text-center"},[a("div",{staticClass:"text-h4"},[t._v("Receive Tokens")]),a("div",{staticClass:"text-center q-pb-xs"},[a("small",[t._v("For more info "),a("a",{attrs:{target:"_blank",title:"Info on transfers",href:"https://docs.freeos.io/d/h/6k0z3-408/43bbcca7c54387a/6k0z3-1402"}},[t._v("click here")]),t._v(".")])]),a("div",{staticClass:"q-mt-md text-center text-h5"},[t._v("@"+t._s(t.accountName))]),t.isAuthenticated?a("q-btn",{staticClass:"q-mt-lg full-width",attrs:{href:"https://proton.alcor.exchange/",unelevated:"","no-caps":"",outline:"",color:"primary"},on:{click:function(e){return t.protonSwap()}}},[t._v("Need Tokens? Try Alcor")]):t._e()],1)],1)]),a("CompleteDialog",{ref:"complete"})],1)},i=[],n=a("2f62"),l=a("37ca"),o=a("1852"),r={name:"Transfer",components:{CompleteDialog:l["a"],AbbreviateNumber:o["a"]},data(){return{stakeCurrency:"XPR",currencyName:"FREEOS",submitData:{to:null,token:null,quantity:null,memo:"",from:null},isShowApprovedDialog:!1,isShowFailedDialog:!1}},computed:{...Object(n["c"])("freeos",["accountName","user","isAuthenticated"]),tokensSelectOptions(){const t=[];return this.user.freebiBalance>0&&t.push("FREEBI"),this.user.freeosBalance>0&&t.unshift("FREEOS"),this.submitData.token=this.submitData.token?this.submitData.token:t[0],t},isFormFilled(){return!Object.values(this.submitData).some((t=>null===t||""===t))},currencyAvailable(){return this.submitData.token?this.currentMax+" "+this.submitData.token+" available to transfer":""},currentMax(){return"FREEBI"===this.submitData.token?this.user.freebiBalance:"FREEOS"===this.submitData.token?this.user.freeosBalance:void 0},zeroBalance(){let t=0;return t.toFixed("4")},currentToken(){return this.submitData.token},currentQuantity(){return this.submitData.quantity}},methods:{...Object(n["b"])("freeos",["fetch","transfer"]),maxAmount(){this.submitData.quantity=this.currentMax},async submit(){var t=Object.assign({},this.submitData);t.from=this.accountName,t.quantity=`${parseFloat(this.submitData.quantity).toFixed("4")} ${this.submitData.token}`,console.log("dataToSubmit",t);var e=await this.transfer(t);e instanceof Error||this.$refs.complete.openDialog({title:"Woohoo",subtitle:"Your transfer to "+t.to+" was successful!",value:t.quantity,currency:t.token}),this.resetForm()},resetForm(){this.submitData={to:null,token:null,quantity:null,memo:"",from:null}},protonSwap(){window.open("https://proton.alcor.exchange/","_blank")}},watch:{currentToken(t,e){t!=e&&(this.submitData.quantity="")},currentQuantity(t,e){let a=t.split(".");a.length>1&&(this.submitData.quantity=parseFloat(t).toFixed(4))}}},c=r,u=a("2877"),m=a("f09f"),b=a("27f9"),d=a("ddd8"),p=a("9c40"),q=a("eebe"),v=a.n(q),h=Object(u["a"])(c,s,i,!1,null,null,null);e["default"]=h.exports;v()(h,"components",{QCard:m["a"],QInput:b["a"],QSelect:d["a"],QBtn:p["a"]})}}]);