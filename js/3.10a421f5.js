(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"570b":function(t,e,n){var i,r;n("5319"),function(o,a,s){for(var c,u,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},h={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},d={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},p={option:"alt",command:"meta",return:"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},f={},m={},g={},v=!1,w=!1,A=!1,M=1;M<20;++M)l[111+M]="f"+M;for(M=0;M<=9;++M)l[M+96]=M;function y(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function b(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return l[t.which]?l[t.which]:h[t.which]?h[t.which]:String.fromCharCode(t.which).toLowerCase()}function C(t,e){return t.sort().join(",")===e.sort().join(",")}function L(t){t=t||{};var e,n=!1;for(e in g)t[e]?n=!0:g[e]=0;n||(A=!1)}function x(t,e,n,i,r,o){var a,s,c=[],u=n.type;if(!f[t])return[];for("keyup"==u&&k(t)&&(e=[t]),a=0;a<f[t].length;++a)if(s=f[t][a],(i||!s.seq||g[s.seq]==s.level)&&u==s.action&&("keypress"==u&&!n.metaKey&&!n.ctrlKey||C(e,s.modifiers))){var l=!i&&s.combo==r,h=i&&s.seq==i&&s.level==o;(l||h)&&f[t].splice(a,1),c.push(s)}return c}function I(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}function E(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function S(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function j(t,e,n,i){H.stopCallback(e,e.target||e.srcElement,n,i)||!1===t(e,n)&&(E(e),S(e))}function D(t,e,n){var i,r=x(t,e,n),o={},a=0,s=!1;for(i=0;i<r.length;++i)r[i].seq&&(a=Math.max(a,r[i].level));for(i=0;i<r.length;++i)if(r[i].seq){if(r[i].level!=a)continue;s=!0,o[r[i].seq]=1,j(r[i].callback,n,r[i].combo,r[i].seq)}else s||j(r[i].callback,n,r[i].combo);var c="keypress"==n.type&&w;n.type!=A||k(t)||c||L(o),w=s&&"keydown"==n.type}function P(t){"number"!==typeof t.which&&(t.which=t.keyCode);var e=b(t);e&&("keyup"!=t.type||v!==e?H.handleKey(e,I(t),t):v=!1)}function k(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function T(){clearTimeout(u),u=setTimeout(L,1e3)}function z(){if(!c)for(var t in c={},l)t>95&&t<112||l.hasOwnProperty(t)&&(c[l[t]]=t);return c}function B(t,e,n){return n||(n=z()[t]?"keydown":"keypress"),"keypress"==n&&e.length&&(n="keydown"),n}function N(t,e,n,i){function r(e){return function(){A=e,++g[t],T()}}function o(e){j(n,e,t),"keyup"!==i&&(v=b(e)),setTimeout(L,10)}g[t]=0;for(var a=0;a<e.length;++a){var s=a+1===e.length,c=s?o:r(i||Q(e[a+1]).action);O(e[a],c,i,t,a)}}function F(t){return"+"===t?["+"]:t.split("+")}function Q(t,e){var n,i,r,o=[];for(n=F(t),r=0;r<n.length;++r)i=n[r],p[i]&&(i=p[i]),e&&"keypress"!=e&&d[i]&&(i=d[i],o.push("shift")),k(i)&&o.push(i);return e=B(i,o,e),{key:i,modifiers:o,action:e}}function O(t,e,n,i,r){m[t+":"+n]=e,t=t.replace(/\s+/g," ");var o,a=t.split(" ");a.length>1?N(t,a,e,n):(o=Q(t,n),f[o.key]=f[o.key]||[],x(o.key,o.modifiers,{type:o.action},i,t,r),f[o.key][i?"unshift":"push"]({callback:e,modifiers:o.modifiers,action:o.action,seq:i,level:r,combo:t}))}function R(t,e,n){for(var i=0;i<t.length;++i)O(t[i],e,n)}y(a,"keypress",P),y(a,"keydown",P),y(a,"keyup",P);var H={bind:function(t,e,n){return t=t instanceof Array?t:[t],R(t,e,n),this},unbind:function(t,e){return H.bind(t,(function(){}),e)},trigger:function(t,e){return m[t+":"+e]&&m[t+":"+e]({},t),this},reset:function(){return f={},m={},this},stopCallback:function(t,e){return!((" "+e.className+" ").indexOf(" mousetrap ")>-1)&&("INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable)},handleKey:D};o.Mousetrap=H,i=H,r="function"===typeof i?i.call(e,n,e,t):i,r===s||(t.exports=r)}(window,document)},"713b":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-layout",{staticClass:"page",attrs:{view:"hHh Lpr fFf"}},[n("q-header",{staticStyle:{"background-color":"#00a1ed"},attrs:{reveal:"",elevated:"","height-hint":"98"}},[n("q-toolbar",{staticStyle:{"justify-content":"space-between"}},[n("q-btn",{staticClass:"burger-menu",style:"visibility: "+(t.isAuthenticated?"visible":"hidden"),on:{click:function(e){t.drawer=!t.drawer}}},[n("div"),n("div",{staticStyle:{"margin-left":"-10px"}}),n("div")]),n("div",{staticStyle:{display:"flex","align-items":"center","margin-top":"-3px"}},[n("span",{staticClass:"q-mr-sm"},[t._v("v"+t._s(t.appVersion))]),t.isAuthenticated?n("q-btn",{staticStyle:{"margin-right":"-6px","margin-left":"-6px"},attrs:{"no-caps":""},on:{click:function(e){return t.accountURL()}}},[t._v("\n          "+t._s(t.user.name))]):t._e(),n("span",{staticStyle:{height:"10px","border-right":"1px solid #eee"}}),t.isAuthenticated?n("q-btn",{staticStyle:{"margin-right":"-6px","margin-left":"-6px"},attrs:{"no-caps":""},on:{click:function(e){return t.logoutSubmit()}}},[t._v("\n          Logout")]):t._e()],1)],1)],1),n("q-drawer",{attrs:{persistent:t.isPersist,width:220,"show-if-above":"",bordered:"",overlay:"","content-class":"bg-grey-0"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("q-scroll-area",{staticClass:"fit",staticStyle:{"box-shadow":"5px 5px #000"}},[n("div",{staticClass:"flex justify-end q-pr-md q-pt-sm q-pb-sm"},[n("q-icon",{staticClass:"cursor-pointer",staticStyle:{"font-size":"2rem"},attrs:{name:"close"},on:{click:function(e){t.drawer=!t.drawer}}})],1),n("q-list",[n("q-separator"),t._l(t.menuList,(function(e,i){return[t.handleFunctionCall(e.displayCondition)?n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:i,attrs:{clickable:"",active:t.selectedItemLabel===e.label,"active-class":"bg-grey-4"},on:{click:function(n){return t.onSelectMenu(e)}}},[n("q-item-section",{staticStyle:{"align-items":"center"},attrs:{avatar:""}},[n("img",{staticClass:"menu-icon",attrs:{src:e.icon,alt:"menu-icon"}})]),n("q-item-section",{staticClass:"text-subtitle1 lhs"},[n("strong",[t._v(t._s(e.label))])])],1):t._e(),e.separator?n("q-separator",{key:"sep"+i}):t._e()]})),n("q-toggle",{staticClass:"q-mt-lg q-px-md",attrs:{label:"Wave Animation",color:"primary"},model:{value:t.ThreeJSToggle,callback:function(e){t.ThreeJSToggle=e},expression:"ThreeJSToggle"}})],2)],1)],1),n("CompleteDialog",{ref:"complete"}),n("q-page-container",{staticClass:"page-container page-container-main"},[n("ThreeJS",{ref:"ThreeJsEl"}),n("div",{staticClass:"flex justify-center text-center",staticStyle:{width:"80px",height:"80px",margin:"20px auto 0px auto","z-index":"1",position:"relative"}},[n("svg",{staticClass:"freeos-logo-icon inline-block fill-current text-primary header-logoicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 84 84"}},[n("path",{attrs:{fill:"#00a1ed",d:"M41.7 0C18.7 0 0 18.7 0 41.7c0 23 18.7 41.7 41.7 41.7 23 0 41.7-18.7 41.7-41.7C83.4 18.7 64.8 0 41.7 0zM26.9 68.6c-2.7 0-5.3-1-7.3-2.8-13.3-12.2-14.2-32.9-2-46.3C23.8 12.8 32.6 9 41.7 9c1.7 0 3.4.1 5.1.4h.2c-5.6 2.3-9.7 7.5-10.6 13.5-.1.6-.2 1.3-.2 1.9V26c-.1 4.1.1 8.2.6 12.3l-10.6 3.9c-.7.3-1.1 1.1-.8 1.8l.5 1.2c1.4 4 5.8 6 9.8 4.6.4-.2.9-.4 1.3-.6l1-.6.3-.2v.4c.2 3 .1 6-.2 9H38c0 .3 0 .6-.1 1-.1.6-.2 1.2-.4 1.8-1.4 4.8-5.7 8-10.6 8zm14.8 5.9c-1.8 0-3.7-.2-5.5-.5 6-2.5 10.1-8 10.8-14.5.7-5.4.7-10.9-.1-16.3l10.8-6.4c1.2-.7 1.7-2.2 1.2-3.5l-.1-.3c-.5-1.4-2-2.1-3.4-1.6L45.9 35l-.2.1V35c-.4-2.8-.5-5.7-.4-8.5.4-8.3 5.3-11.7 11.3-11.6 2.5.1 4.8.9 6.8 2.4.5.4.9.8 1.4 1.3 12.8 12.6 12.9 33.3.2 46.2-6.2 6.2-14.5 9.7-23.3 9.7z"}})])]),t.isAuthenticated?n("div",{staticClass:"f-content",staticStyle:{"z-index":"1",position:"relative"}},[n("p",{staticClass:"text-body3 q-mb-xs text-center q-pa-md"},[t._v("\n        "+t._s(t.priceLabel)+t._s(t.currentPrice)+"\n        "),t.currentPrice>=t.targetPrice?n("q-icon",{attrs:{size:"xs",name:"arrow_upward"}}):t._e(),t.currentPrice<t.targetPrice?n("q-icon",{attrs:{size:"xs",name:"arrow_downward"}}):t._e()],1),n("router-view")],1):t._e(),t.isAuthenticated?t._e():n("Loading",{staticStyle:{"z-index":"1",position:"relative","user-select":"none"}})],1)],1)},o=[],a=(n("ee95"),n("2f62")),s=n("3a5e"),c=n("37ca"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("canvas",{staticStyle:{position:"absolute",top:"0",left:"0",width:"100vw",height:"100vh","z-index":"0",display:"block","pointer-events":"all"},attrs:{id:"webgl-canvas"}})},l=[],h=(n("ddb0"),n("7fed")),d=function(t){var e=this;this.buttons=[],this.x=0,this.y=0,this.dx=0,this.dy=0,this.coords=new h["Vector2"];var n=[],i=function(){this.x=0,this.y=0,this.dx=0,this.dy=0,this.coords=new h["Vector2"],this.buttons=[]},r=function(n,i){var r=e.getMouse(i||0),o=n.target.getBoundingClientRect(),a=n.pageX-o.left,s=n.pageY-o.top,c=n.offsetX||a,u=n.offsetY||s;r.dx=c-r.x,r.dy=u-r.y,r.x=c,r.y=u,r.coords.x=r.x/t.clientWidth*2-1,r.coords.y=r.y/t.clientHeight*-2+1},o=function(t){r(t)},a=function(t){r(t),e.getMouse().buttons[t.button]=!0},s=function(t){r(t),e.getMouse().buttons[t.button]=!1},c=function(t){for(var e=t.changedTouches,n=0;n<e.length;n++)r(e[n],0);t.preventDefault()},u=function(t){for(var n=t.touches,i=0;i<n.length;i++)r(n[i],0),e.getMouse(0).buttons[0]=!0;t.preventDefault()},l=function(t){for(var n=t.changedTouches,i=0;i<n.length;i++)r(n[i],0),e.getMouse(0).buttons[0]=!1;t.preventDefault()};this.getLength=function(){return n.length},this.getMouse=function(t){return t=t||0,t>=n.length&&(n[t]=new i),n[t]},t.addEventListener("mousemove",o,!1),t.addEventListener("mousedown",a,!1),t.addEventListener("mouseup",s,!1),t.addEventListener("touchmove",c,!1),t.addEventListener("touchstart",u,!1),t.addEventListener("touchend",l,!1),t.addEventListener("touchleave",l,!1),t.addEventListener("touchcancel",l,!1)},p=d,f=h["Clock"],m=function(){var t,e=this,n=0,i=1,r=0,o=0,a=.02,s=.2,c=new f(!1),u=function(){var t=a*i;r+=t,e.fixedCallback(t,r)},l=function(){var t=c.getDelta();n+=t*i,o+=t,o>s&&(o=s);while(o>a)u(),o-=a;e.frameCallback(t,n)},h=function(){l(),t=window.requestAnimationFrame(h)};this.start=function(){t||(c.start(),h())},this.stop=function(){t&&(window.cancelAnimationFrame(t),t=void 0,c.stop())},this.setTimeScale=function(t){i=Math.max(t,0)},this.fixedCallback=function(t,e){},this.frameCallback=function(t,e){}};m.prototype.constructor=m;var v=m,w=(n("cfc3"),function(t){var e={};for(var n in t)e[n]=t[n];return e}),A=function(t){return new h["ShaderMaterial"]({defines:w(t.defines),uniforms:new h["UniformsUtils"].clone(t.uniforms),vertexShader:t.vertexShader,fragmentShader:t.fragmentShader})},M=function(t){t instanceof h["Material"]?this.material=t:this.material=A(t),this.material.blending=h["NoBlending"],this.material.depthWrite=!1,this.material.depthTest=!1;var e=new h["BufferGeometry"],n=new Float32Array(9);n[0]=-1,n[1]=-1,n[2]=0,n[3]=3,n[4]=-1,n[5]=0,n[6]=-1,n[7]=3,n[8]=0;var i=new Float32Array(6);i[0]=0,i[1]=0,i[2]=2,i[3]=0,i[4]=0,i[5]=2,e.addAttribute("position",new h["BufferAttribute"](n,3)),e.addAttribute("uv",new h["BufferAttribute"](i,2)),this.mesh=new h["Mesh"](e,this.material),this.scene=new h["Scene"],this.scene.add(this.mesh),this.camera=new h["OrthographicCamera"](-1,1,1,-1,0,1),this.clear=!1};M.prototype.render=function(t,e){t.render(this.scene,this.camera,e,this.clear)};var y={createShaderMaterial:A,ShaderPass:M},C=function(t){var e,n,i,r,o,a,s=t,c=[],u={pending:!1,callback:void 0,dataUrl:void 0},l={canvas:s,alpha:!0,depth:!0,stencil:!1,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,logarithmicDepthBuffer:!1,autoClear:!1,clearColor:0,clearAlpha:0,sortObjects:!0,shadowMapEnabled:!1,shadowMapType:h["PCFShadowMap"],shadowMapCullFace:h["CullFaceFront"],shadowMapDebug:!1},d={fov:45,near:1,far:1e3},p=function(){e=new h["WebGLRenderer"](l),e.setSize(n,i),e.setClearColor(l.clearColor,l.clearAlpha),e.autoClear=l.autoClear,e.sortObjects=l.sortObjects,e.shadowMapEnabled=l.shadowMapEnabled,e.shadowMapType=l.shadowMapType,e.shadowMapCullFace=l.shadowMapCullFace,e.shadowMapDebug=l.shadowMapDebug};this.init=function(){n=s.clientWidth,i=s.clientHeight,r=n/i,p(),o=new h["PerspectiveCamera"](d.fov,r,d.near,d.far),a=new h["Scene"],this.customInit()},this.setSize=function(t,a){n=t,i=a,r=n/i,e.setSize(n,i),o.aspect=r,o.updateProjectionMatrix()},this.update=function(t){e.clearTarget(null);for(var n=0;n<c.length;n++)c[n](t);e.render(a,o),u.pending&&(u.dataUrl=e.domElement.toDataURL(),u.pending=!1,u.callback&&u.callback(u.dataUrl))},this.customInit=function(){o.position.z=10},this.getRenderer=function(){return e},this.getScene=function(){return a},this.getCamera=function(){return o},this.getImageData=function(t){u.pending=!0,u.callback=t}};C.prototype.constructor=C;var L=C,x=n("8992"),I=(n("5319"),n("5cc6"),n("2b3d"),{});I.isMobile=function(t){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera),I.toRadians=function(t){return t*Math.PI/180},I.toDegrees=function(t){return 180*t/Math.PI},I.hexToRgb=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:null},I.rgbToHex=function(){return"#"+((1<<24)+(r<<16)+(g<<8)+b).toString(16).slice(1)},I.loadTextFile=function(t){var e,n=new XMLHttpRequest;return n.onerror=function(){console.log("Error: request error on "+t)},n.onload=function(){e=this.responseText},n.open("GET",t,!1),n.send(),e},I.loadTextFileInject=function(t){var e=/#inject .+/g,n=I.loadTextFile(t),i=n.match(e);if(!i)return n;for(var r=0;r<i.length;r++){var o=i[r],a=o.split(" ")[1],s=I.loadTextFileInject(a);n=n.replace(o,s)}return n},I.openUrlInNewWindow=function(t,e,n){window.open(t,"Screenshot","width="+e+" height="+n+" scrollbars=no, resizable=yes")},I.dataUrlToBlob=function(t){var e=";base64,";if(-1==t.indexOf(e)){var n=t.split(","),i=n[0].split(":")[1],r=decodeURIComponent(n[1]);return new Blob([r],{type:i})}n=t.split(e),i=n[0].split(":")[1],r=window.atob(n[1]);for(var o=r.length,a=new Uint8Array(o),s=0;s<o;++s)a[s]=r.charCodeAt(s);return new Blob([a],{type:i})},I.dataUrlToBlobUrl=function(t){return window.URL.createObjectURL(I.dataUrlToBlob(t))},I.toggleFullscreen=function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)},I.getParameterByName=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),n=e.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},I.shuffle=function(t){var e,n,i=t.length;while(0!==i)n=Math.floor(Math.random()*i),i-=1,e=t[i],t[i]=t[n],t[n]=e;return t};var E=I,S={uniforms:{tDiffuse:{type:"t",value:null},uColor:{type:"f",value:new h["Vector4"](1,1,1,1)}},vertexShader:E.loadTextFile("shaders/Basic.vs.glsl"),fragmentShader:E.loadTextFileInject("shaders/SimInitShader.fs.glsl")},j=S,D=E,P={uniforms:{tPos:{type:"t",value:null},uTime:{type:"f",value:0},uPointSize:{type:"f",value:3.5},uAlpha:{type:"f",value:.05},uColor1:{type:"v3",value:new h["Vector3"](.2,.7,.9)},uColor2:{type:"v3",value:new h["Vector3"](.2,.4,1)},uColorFreq:{type:"f",value:1},uColorSpeed:{type:"f",value:2}},vertexShader:D.loadTextFileInject("shaders/ParticleShader.vs.glsl"),fragmentShader:D.loadTextFileInject("shaders/ParticleShader.fs.glsl")},k={defines:{POINT_SIZE:D.isMobile?"5.0":"0.1"},uniforms:{tPos:{type:"t",value:null},uColor:{type:"v4",value:new h["Vector4"](1,.6,.1,.2)}},vertexShader:D.loadTextFile("shaders/BasicParticleShader.vs.glsl"),fragmentShader:D.loadTextFile("shaders/BasicParticleShader.fs.glsl")},T={ParticleShader:P,BasicParticleShader:k};h["OrbitControls"]=function(t,e){this.object=t,this.domElement=void 0!==e?e:document,this.enabled=!0,this.target=new h["Vector3"],this.center=this.target,this.noZoom=!1,this.zoomSpeed=1,this.minDistance=0,this.maxDistance=1/0,this.noRotate=!1,this.rotateSpeed=1,this.noPan=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.noKeys=!1,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:h["MOUSE"].LEFT,ZOOM:h["MOUSE"].MIDDLE,PAN:h["MOUSE"].RIGHT};var n,i,r=this,o=1e-6,a=new h["Vector2"],s=new h["Vector2"],c=new h["Vector2"],u=new h["Vector2"],l=new h["Vector2"],d=new h["Vector2"],p=new h["Vector3"],f=new h["Vector3"],m=new h["Vector2"],g=new h["Vector2"],v=new h["Vector2"],w=0,A=0,M=1,y=new h["Vector3"],b=new h["Vector3"],C=new h["Quaternion"],L={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},x=L.NONE;this.target0=this.target.clone(),this.position0=this.object.position.clone();var I=(new h["Quaternion"]).setFromUnitVectors(t.up,new h["Vector3"](0,1,0)),E=I.clone().inverse(),S={type:"change"},j={type:"start"},D={type:"end"};function P(){return 2*Math.PI/60/60*r.autoRotateSpeed}function k(){return Math.pow(.95,r.zoomSpeed)}function T(t){if(!1!==r.enabled){if(t.preventDefault(),t.button===r.mouseButtons.ORBIT){if(!0===r.noRotate)return;x=L.ROTATE,a.set(t.clientX,t.clientY)}else if(t.button===r.mouseButtons.ZOOM){if(!0===r.noZoom)return;x=L.DOLLY,m.set(t.clientX,t.clientY)}else if(t.button===r.mouseButtons.PAN){if(!0===r.noPan)return;x=L.PAN,u.set(t.clientX,t.clientY)}x!==L.NONE&&(document.addEventListener("mousemove",z,!1),document.addEventListener("mouseup",B,!1),r.dispatchEvent(j))}}function z(t){if(!1!==r.enabled){t.preventDefault();var e=r.domElement===document?r.domElement.body:r.domElement;if(x===L.ROTATE){if(!0===r.noRotate)return;s.set(t.clientX,t.clientY),c.subVectors(s,a),r.rotateLeft(2*Math.PI*c.x/e.clientWidth*r.rotateSpeed),r.rotateUp(2*Math.PI*c.y/e.clientHeight*r.rotateSpeed),a.copy(s)}else if(x===L.DOLLY){if(!0===r.noZoom)return;g.set(t.clientX,t.clientY),v.subVectors(g,m),v.y>0?r.dollyIn():r.dollyOut(),m.copy(g)}else if(x===L.PAN){if(!0===r.noPan)return;l.set(t.clientX,t.clientY),d.subVectors(l,u),r.pan(d.x,d.y),u.copy(l)}x!==L.NONE&&r.update()}}function B(){!1!==r.enabled&&(document.removeEventListener("mousemove",z,!1),document.removeEventListener("mouseup",B,!1),r.dispatchEvent(D),x=L.NONE)}function N(t){if(!1!==r.enabled&&!0!==r.noZoom&&x===L.NONE){t.preventDefault(),t.stopPropagation();var e=0;void 0!==t.wheelDelta?e=t.wheelDelta:void 0!==t.detail&&(e=-t.detail),e>0?r.dollyOut():r.dollyIn(),r.update(),r.dispatchEvent(j),r.dispatchEvent(D)}}function F(t){if(!1!==r.enabled&&!0!==r.noKeys&&!0!==r.noPan)switch(t.keyCode){case r.keys.UP:r.pan(0,r.keyPanSpeed),r.update();break;case r.keys.BOTTOM:r.pan(0,-r.keyPanSpeed),r.update();break;case r.keys.LEFT:r.pan(r.keyPanSpeed,0),r.update();break;case r.keys.RIGHT:r.pan(-r.keyPanSpeed,0),r.update();break}}function Q(t){if(!1!==r.enabled){switch(t.touches.length){case 1:if(!0===r.noRotate)return;x=L.TOUCH_ROTATE,a.set(t.touches[0].pageX,t.touches[0].pageY);break;case 2:if(!0===r.noZoom)return;x=L.TOUCH_DOLLY;var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,i=Math.sqrt(e*e+n*n);m.set(0,i);break;case 3:if(!0===r.noPan)return;x=L.TOUCH_PAN,u.set(t.touches[0].pageX,t.touches[0].pageY);break;default:x=L.NONE}x!==L.NONE&&r.dispatchEvent(j)}}function O(t){if(!1!==r.enabled){t.preventDefault(),t.stopPropagation();var e=r.domElement===document?r.domElement.body:r.domElement;switch(t.touches.length){case 1:if(!0===r.noRotate)return;if(x!==L.TOUCH_ROTATE)return;s.set(t.touches[0].pageX,t.touches[0].pageY),c.subVectors(s,a),r.rotateLeft(2*Math.PI*c.x/e.clientWidth*r.rotateSpeed),r.rotateUp(2*Math.PI*c.y/e.clientHeight*r.rotateSpeed),a.copy(s),r.update();break;case 2:if(!0===r.noZoom)return;if(x!==L.TOUCH_DOLLY)return;var n=t.touches[0].pageX-t.touches[1].pageX,i=t.touches[0].pageY-t.touches[1].pageY,o=Math.sqrt(n*n+i*i);g.set(0,o),v.subVectors(g,m),v.y>0?r.dollyOut():r.dollyIn(),m.copy(g),r.update();break;case 3:if(!0===r.noPan)return;if(x!==L.TOUCH_PAN)return;l.set(t.touches[0].pageX,t.touches[0].pageY),d.subVectors(l,u),r.pan(d.x,d.y),u.copy(l),r.update();break;default:x=L.NONE}}}function R(){!1!==r.enabled&&(r.dispatchEvent(D),x=L.NONE)}this.rotateLeft=function(t){void 0===t&&(t=P()),A-=t},this.rotateUp=function(t){void 0===t&&(t=P()),w-=t},this.panLeft=function(t){var e=this.object.matrix.elements;p.set(e[0],e[1],e[2]),p.multiplyScalar(-t),y.add(p)},this.panUp=function(t){var e=this.object.matrix.elements;p.set(e[4],e[5],e[6]),p.multiplyScalar(t),y.add(p)},this.pan=function(t,e){var n=r.domElement===document?r.domElement.body:r.domElement;if(void 0!==r.object.fov){var i=r.object.position,o=i.clone().sub(r.target),a=o.length();a*=Math.tan(r.object.fov/2*Math.PI/180),r.panLeft(2*t*a/n.clientHeight),r.panUp(2*e*a/n.clientHeight)}else void 0!==r.object.top?(r.panLeft(t*(r.object.right-r.object.left)/n.clientWidth),r.panUp(e*(r.object.top-r.object.bottom)/n.clientHeight)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")},this.dollyIn=function(t){void 0===t&&(t=k()),M/=t},this.dollyOut=function(t){void 0===t&&(t=k()),M*=t},this.update=function(){var t=this.object.position;f.copy(t).sub(this.target),f.applyQuaternion(I),n=Math.atan2(f.x,f.z),i=Math.atan2(Math.sqrt(f.x*f.x+f.z*f.z),f.y),this.autoRotate&&x===L.NONE&&this.rotateLeft(P()),n+=A,i+=w,n=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,n)),i=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,i)),i=Math.max(o,Math.min(Math.PI-o,i));var e=f.length()*M;e=Math.max(this.minDistance,Math.min(this.maxDistance,e)),this.target.add(y),f.x=e*Math.sin(i)*Math.sin(n),f.y=e*Math.cos(i),f.z=e*Math.sin(i)*Math.cos(n),f.applyQuaternion(E),t.copy(this.target).add(f),this.object.lookAt(this.target),A=0,w=0,M=1,y.set(0,0,0),(b.distanceToSquared(this.object.position)>o||8*(1-C.dot(this.object.quaternion))>o)&&(this.dispatchEvent(S),b.copy(this.object.position),C.copy(this.object.quaternion))},this.reset=function(){x=L.NONE,this.target.copy(this.target0),this.object.position.copy(this.position0),this.update()},this.getPolarAngle=function(){return i},this.getAzimuthalAngle=function(){return n},this.domElement.addEventListener("contextmenu",(function(t){t.preventDefault()}),!1),this.domElement.addEventListener("mousedown",T,!1),this.domElement.addEventListener("mousewheel",N,!1),this.domElement.addEventListener("DOMMouseScroll",N,!1),this.domElement.addEventListener("touchstart",Q,!1),this.domElement.addEventListener("touchend",R,!1),this.domElement.addEventListener("touchmove",O,!1),window.addEventListener("keydown",F,!1),this.update()},h["OrbitControls"].prototype=Object.create(h["EventDispatcher"].prototype),h["OrbitControls"].prototype.constructor=h["OrbitControls"];var z=function(t,e,n,i,r){var o,a,s,c,u,l,d,p=t,f=i,m=[],g=function(){var e=t.getContext();return null===e.getExtension("OES_texture_float")?(console.error("SimulationRenderer: OES_texture_float not supported."),!1):0!==e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)||(console.error("SimulationRenderer: Vertex shader textures not supported."),!1)},v=function(t){var e=new h["WebGLRenderTarget"](t,t,{minFilter:h["NearestFilter"],magFilter:h["NearestFilter"],format:h["RGBAFormat"],type:h["FloatType"],depthBuffer:!1,stencilBuffer:!1});return e.generateMipmaps=!1,e},w=function(){for(var t=0;t<m.length;t++)m[t].value=c};this.update=function(t,e){u.material.uniforms.uDeltaT.value=t,u.material.uniforms.uTime.value=e/2+12345*r,1===d?(u.material.uniforms.tPrev.value=a,u.material.uniforms.tCurr.value=s,u.render(p,o),c=o):2===d?(u.material.uniforms.tPrev.value=s,u.material.uniforms.tCurr.value=o,u.render(p,a),c=a):3===d?(u.material.uniforms.tPrev.value=o,u.material.uniforms.tCurr.value=a,u.render(p,s),c=s):console.error("SimulationRenderer: something's wrong!"),w(),d++,d>3&&(d=1)},this.registerUniform=function(t){m.push(t),t.value=c},this.reset=function(){l.render(p,o),l.render(p,a),l.render(p,s)},g(),o=v(f),a=v(f),s=v(f),o.name="SimulationRenderer._target1",a.name="SimulationRenderer._target2",s.name="SimulationRenderer._target3",d=1,c=o,u=new y.ShaderPass(e),l=new y.ShaderPass(n),this.reset()};z.prototype.constructor=z;var B=z,N=function(t,e,n){var i,r,o,a,s,c=e;n=n||{};var u=function(t){for(var e=3,n=new h["BufferGeometry"],i=new Float32Array(t*t*e),r=0;r<t;r++)for(var o=0;o<t;o++){var a=r+o*t;i[e*a]=(r+.5)/t,i[e*a+1]=(o+.5)/t*1,i[e*a+2]=a/(t*t)*100}return n.addAttribute("position",new h["BufferAttribute"](i,e)),n},l=function(){r=n.simMat||y(SimShader),o=n.initMat||y(j),i=new B(t,r,o,c,n.index),a=n.drawMat||y.createShaderMaterial(T.ParticleShader),a.blending=h["NormalBlending"],a.transparent=!0,a.depthTest=!1,a.depthWrite=!1,i.registerUniform(a.uniforms.tPos);var e=u(c);s=new h["PointCloud"](e,a),s.position.y=n.index/4-.5,s.frustumCulled=!1};this.getParticleObject=function(){return s},l(),this.update=i.update},F=N,Q=function(t){var e,n,i,r,o,a,s,c,u,l,h;t=t||{},o=t.size||512,s=t.simMat||y.createShaderMaterial(BasicSimShader),c=t.initMat||y.createShaderMaterial(j),u=t.drawMat||y.createShaderMaterial(T),t.update,n=t.renderer,r=t.scene,i=t.camera,l=t.mouse,e=t.updateLoop,h=t.controls,t.stats;var d=function(){n.setSize(window.innerWidth,window.innerHeight)},p=function(){return window.addEventListener("resize",d,!1),[l]},f=function(){a=new F(n.getRenderer(),o,{simMat:s,initMat:c,drawMat:u,index:t.index}),r.add(a.getParticleObject()),i.position.set(0,1,7),s.defines.MULTIPLE_INPUT="",s.needsUpdate=!0};this.start=function(){e.start()},this.update=function(t,e){a.update(t,e)},this.stop=function(){e.stop()},this.pauseSimulation=function(t){t},this.enableCameraAutoRotate=function(t){h.autoRotate=t},this.enableCameraControl=function(t){h.enabled=t},this.init=p,p(),f(),this.renderer=n,this.scene=r,this.camera=i},O=Q,R=E,H={defines:{K_VEL_DECAY:"0.98"},uniforms:{tPrev:{type:"t",value:null},tCurr:{type:"t",value:null},uDeltaT:{type:"f",value:0},uTime:{type:"f",value:0},uInputPos:{type:"v3v",value:[new h["Vector3"],new h["Vector3"],new h["Vector3"],new h["Vector3"]]},uInputPosAccel:{type:"v4",value:new h["Vector4"](0,0,0,0)},uInputAccel:{type:"f",value:4},uShapeAccel:{type:"f",value:.5}},vertexShader:R.loadTextFile("shaders/Basic.vs.glsl"),fragmentShader:R.loadTextFileInject("shaders/SimShader.fs.glsl")};R.isMobile&&(H.defines.MULTIPLE_INPUT="");var J={defines:{K_VEL_DECAY:"0.99",K_INPUT_ACCEL:"2.0",K_TARGET_ACCEL:"0.2"},uniforms:{tPrev:{type:"t",value:null},tCurr:{type:"t",value:null},uDeltaT:{type:"f",value:0},uTime:{type:"f",value:0},uInputPos:{type:"v3v",value:[new h["Vector3"],new h["Vector3"],new h["Vector3"],new h["Vector3"]]},uInputPosAccel:{type:"v4",value:new h["Vector4"](0,0,0,0)}},vertexShader:R.loadTextFile("shaders/Basic.vs.glsl"),fragmentShader:R.loadTextFile("shaders/BasicSimShader.fs.glsl")};R.isMobile&&(J.defines.MULTIPLE_INPUT="");var V=H,G=E,q={defines:{K_VEL_DECAY:"0.985"},uniforms:{tPrev:{type:"t",value:null},tCurr:{type:"t",value:null},uDeltaT:{type:"f",value:0},uTime:{type:"f",value:0},uInputPos:{type:"v3v",value:[new h["Vector3"],new h["Vector3"],new h["Vector3"],new h["Vector3"]]},uInputPosAccel:{type:"v4",value:new h["Vector4"](0,0,0,0)},uInputAccel:{type:"f",value:4},uShapeAccel:{type:"f",value:.5}},vertexShader:G.loadTextFile("shaders/Basic.vs.glsl"),fragmentShader:G.loadTextFileInject("shaders/SimShader.fs.glsl")};G.isMobile&&(q.defines.MULTIPLE_INPUT="");var Y={defines:{K_VEL_DECAY:"0.99",K_INPUT_ACCEL:"2.0",K_TARGET_ACCEL:"0.2"},uniforms:{tPrev:{type:"t",value:null},tCurr:{type:"t",value:null},uDeltaT:{type:"f",value:0},uTime:{type:"f",value:0},uInputPos:{type:"v3v",value:[new h["Vector3"],new h["Vector3"],new h["Vector3"],new h["Vector3"]]},uInputPosAccel:{type:"v4",value:new h["Vector4"](0,0,0,0)}},vertexShader:G.loadTextFile("shaders/Basic.vs.glsl"),fragmentShader:G.loadTextFile("shaders/BasicSimShader.fs.glsl")};G.isMobile&&(Y.defines.MULTIPLE_INPUT="");var U=q,_=E,Z={defines:{K_VEL_DECAY:"0.99"},uniforms:{tPrev:{type:"t",value:null},tCurr:{type:"t",value:null},uDeltaT:{type:"f",value:0},uTime:{type:"f",value:0},uInputPos:{type:"v3v",value:[new h["Vector3"],new h["Vector3"],new h["Vector3"],new h["Vector3"]]},uInputPosAccel:{type:"v4",value:new h["Vector4"](0,0,0,0)},uInputAccel:{type:"f",value:4},uShapeAccel:{type:"f",value:.5}},vertexShader:_.loadTextFile("shaders/Basic.vs.glsl"),fragmentShader:_.loadTextFileInject("shaders/SimShader.fs.glsl")};_.isMobile&&(Z.defines.MULTIPLE_INPUT="");var W={defines:{K_VEL_DECAY:"0.99",K_INPUT_ACCEL:"2.0",K_TARGET_ACCEL:"0.2"},uniforms:{tPrev:{type:"t",value:null},tCurr:{type:"t",value:null},uDeltaT:{type:"f",value:0},uTime:{type:"f",value:0},uInputPos:{type:"v3v",value:[new h["Vector3"],new h["Vector3"],new h["Vector3"],new h["Vector3"]]},uInputPosAccel:{type:"v4",value:new h["Vector4"](0,0,0,0)}},vertexShader:_.loadTextFile("shaders/Basic.vs.glsl"),fragmentShader:_.loadTextFile("shaders/BasicSimShader.fs.glsl")};_.isMobile&&(W.defines.MULTIPLE_INPUT="");var K,X,$=Z,tt={uniforms:{},vertexShader:E.loadTextFileInject("shaders/UVMapShader.vs.glsl"),fragmentShader:E.loadTextFileInject("shaders/UVMapShader.fs.glsl")},et=tt,nt=function(t){var e=t,n=new h["OrthographicCamera"](-1,1,1,-1,0,1),i=new h["Scene"],r=y.createShaderMaterial(et);r.side=h["DoubleSide"],r.blending=h["NoBlending"],r.depthTest=!1,r.depthWrite=!1,r.morphTargets=!0,i.overrideMaterial=r,this.render=function(t,r){i.add(t),console.log("rendering"),e.render(i,n,r,!0),i.remove(t)},this.createTarget=function(t){var e=new h["WebGLRenderTarget"](t,t,{minFilter:h["LinearFilter"],magFilter:h["LinearFilter"],format:h["RGBAFormat"],type:h["FloatType"],depthBuffer:!1,stencilBuffer:!1});return e.generateMipmaps=!1,e},this.createMap=function(t,e){var n=this.createTarget(e);return this.render(t,n),n}},it=nt,rt=function(t,e){var n,i=this,r=new it(t);this.target=r.createTarget(e),this.update=function(t,e){n&&(console.log("updating mesh"),console.log("mesh"),n.updateAnimation(1e3*t),r.render(n,i.target))},this.setMesh=function(t){n=t}},ot=rt,at=(n("82a3"),n("b981"),function(t,e,n){var i,r,o,a=4;this.renderer=t,this.camera=e,this.matrix=n,this.followCamera=!0,this.frame=void 0,this.palmPositions=[];for(var s=0;s<a;s++)this.palmPositions.push(new h["Vector3"]);this.activeHandCount=0,this.update=function(){this.followCamera?r.matrix.multiplyMatrices(this.camera.matrix,this.matrix):r.matrix.copy(this.matrix),r.matrixWorldNeedsUpdate=!0,this.frame=o.frame(),this.activeHandCount=Math.min(this.frame.hands.length,a);for(var t=0;t<this.activeHandCount;t++){var e=this.frame.hands[t].palmPosition;this.palmPositions[t].set(e[0],e[1],e[2]),this.palmPositions[t].applyMatrix4(r.matrix)}},this.render=function(t,e){this.renderer.render(i,this.camera,t,e)},i=new h["Scene"],i.overrideMaterial=new h["MeshBasicMaterial"]({color:16777215,opacity:.25}),r=new h["Object3D"],r.matrixAutoUpdate=!1,i.add(r),o=new Leap.Controller,o.use("boneHand",{render:function(){},scene:r,arm:!1}).connect()}),st=at,ct=n("5c54"),ut=n.n(ct),lt=(n("570b"),{size:350,simMat:y.createShaderMaterial(V),drawMat:y.createShaderMaterial(T.ParticleShader),color1:new h["Color"]("rgb(3,87,127)"),color2:new h["Color"]("rgb(3,87,127)"),renderer:null,camera:null,scene:null,index:0}),ht={size:350,simMat:y.createShaderMaterial(U),drawMat:y.createShaderMaterial(T.ParticleShader),color1:new h["Color"]("rgb(0, 161, 237)"),color2:new h["Color"]("rgb(0, 161, 237)"),renderer:null,camera:null,scene:null,index:1},dt={size:350,simMat:y.createShaderMaterial($),drawMat:y.createShaderMaterial(T.ParticleShader),color1:new h["Color"]("rgb(0,200,200)"),color2:new h["Color"]("rgb(0,200,200)"),renderer:null,camera:null,scene:null,index:2},pt=[lt,ht,dt],ft=[],mt=[],gt=E.getParameterByName("shape")||"plane",vt=!1,wt=(document.getElementById("music"),["SIM_PLANE"]),At={plane:{"user gravity":5,"shape gravity":1,_shape:"SIM_PLANE"}},Mt=!1,yt={name:"ThreeJS",data(){return{scene:null,renderer:null,camera:null,_engine:null,_engine2:null,_uvAnim2:null,_gui:null,_uvAnim:null,_leapMan:null,_controls:null,mouse:null,raycaster:null,_stats:null,_guiFields:{}}},methods:{_leapUpdate(){var t=1,e=100;this._leapMan.update();for(var n=0;r<pt.length;n++)for(var i=pt[n].simMat,r=0;r<this._leapMan.activeHandCount;r++){var o=3-r;this._leapMan.frame.hands[r].grabStrength===t?(i.uniforms.uInputPos.value[o].copy(this._leapMan.palmPositions[r]),i.uniforms.uInputPosAccel.value.setComponent(o,1)):this._leapMan.frame.hands[r].sphereRadius>=e&&(i.uniforms.uInputPos.value[o].copy(this._leapMan.palmPositions[r]),i.uniforms.uInputPosAccel.value.setComponent(o,-1))}},_mouseUpdate(){for(var t=E.isMobile?4:1,e=0;e<pt.length;e++)for(var n=pt[e].simMat,i=0;i<t;i++){var r=this.mouse.getMouse(i);if(r.buttons[0]||0===i&&r.buttons[2]){this.raycaster.setFromCamera(r.coords,this.camera);var o=(new h["Vector3"]).copy(this._controls.target);o.y+=e/4+.5-1;var a=o.clone().sub(this.camera.position).normalize(),s=new h["Plane"](a,-a.x*o.x-a.y*o.y-a.z*o.z),c=new h["Vector3"](0,0,0);this.raycaster.ray.intersectPlane(s,c),c.y-=e/4+.5-1,n.uniforms.uInputPos.value[i].copy(c),n.uniforms.uInputPosAccel.value.setComponent(i,r.buttons[0]?1:-2)}else n.uniforms.uInputPosAccel.value.setComponent(i,0)}},_inputUpdate(){for(var t=0;t<pt.length;t++){var e=pt[t].simMat;e.uniforms.uInputPosAccel.value.set(0,0,0,0)}this._controls.enabled||this._mouseUpdate(),this._leapUpdate()},_onFrameUpdate(t,e){this._stats.begin(),this._leapUpdate(),this._inputUpdate(),this._controls.enabled||this._controls.update(),pt[0].update&&pt[0].update(t,e),this.renderer.update(t),this._leapMan.render(),this._stats.end()},_onFixedUpdate(t,e){if(!Mt)for(var n=0;n<ft.length;n++)ft[n].update(t,e)},init(){var t=document.getElementById("webgl-canvas");this.renderer=new L(t),this.renderer.init(),this.camera=this.renderer.getCamera(),this.scene=this.renderer.getScene(),this.raycaster=new h["Raycaster"],this.mouse=new p(t);var e=new v;e.frameCallback=this._onFrameUpdate,e.fixedCallback=this._onFixedUpdate;var n=(new h["Matrix4"]).compose(new h["Vector3"](0,-3,-this.camera.position.z),new h["Quaternion"],new h["Vector3"](.015,.015,.015));this._leapMan=new st(this.renderer.getRenderer(),this.camera,n),this._controls=new h["OrbitControls"](this.camera,t),this._controls.autoRotate=!1,this._controls.autoRotateSpeed=1,this._controls.noPan=!0,this._controls.enabled=!1,this._stats=new ut.a;for(var i=0;i<pt.length;i++){var r=pt[i];r.renderer=this.renderer,r.camera=this.camera,r.scene=this.scene,r.mouse=this.mouse,r.updateLoop=e,r.controls=this._controls,r.stats=this._stats;var o=new O(r);ft.push(o);var a=new ot(o.renderer.getRenderer(),r.size);mt.push(a),r.simMat.uniforms.tTarget={type:"t",value:a.target}}},_initUI(){this._gui=new x["a"],this._guiFields={colors:[{color1:[255*lt.drawMat.uniforms.uColor1.value.x,255*lt.drawMat.uniforms.uColor1.value.y,255*lt.drawMat.uniforms.uColor1.value.z],color2:[255*lt.drawMat.uniforms.uColor2.value.x,255*lt.drawMat.uniforms.uColor2.value.y,255*lt.drawMat.uniforms.uColor2.value.z]},{color1:[255*ht.drawMat.uniforms.uColor1.value.x,255*ht.drawMat.uniforms.uColor1.value.y,255*ht.drawMat.uniforms.uColor1.value.z],color2:[255*ht.drawMat.uniforms.uColor2.value.x,255*ht.drawMat.uniforms.uColor2.value.y,255*ht.drawMat.uniforms.uColor2.value.z]},{color1:[255*dt.drawMat.uniforms.uColor1.value.x,255*dt.drawMat.uniforms.uColor1.value.y,255*dt.drawMat.uniforms.uColor1.value.z],color2:[255*dt.drawMat.uniforms.uColor2.value.x,255*dt.drawMat.uniforms.uColor2.value.y,255*dt.drawMat.uniforms.uColor2.value.z]}],alpha:lt.drawMat.uniforms.uAlpha.value,"color speed":lt.drawMat.uniforms.uColorSpeed.value,"color freq":lt.drawMat.uniforms.uColorFreq.value,"point size":lt.drawMat.uniforms.uPointSize.value,"user gravity":lt.simMat.uniforms.uInputAccel.value,"shape gravity":lt.simMat.uniforms.uShapeAccel.value,shape:gt,paused:!1,"camera rotate":!1,"camera control":!1,fullscreen:E.toggleFullscreen,"take tour!":vt,music:!0},this._gui.add(this._guiFields,"take tour!").onChange((function(t){vt=t})),this._gui.add(this._guiFields,"music").onChange((function(t){_toggleMusic()}));var t={blending:lt.drawMat.blending},e={"No Blending":h["NoBlending"],"Normal Blending":h["NormalBlending"],"Additive (for dark BG)":h["AdditiveBlending"],"Subtractive Blending":h["SubtractiveBlending"],"Multiply Blending":h["MultiplyBlending"],"Custom Blending":h["CustomBlending"]};this._gui.add(t,"blending",e).onChange((function(t){for(var e=0;e<pt.length;e++)pt[e].drawMat.blending=parseInt(t)}));for(var n=this._gui.addFolder("Appearance"),i=0;i<pt.length;i++){const t=n.addFolder(i);t.addColor(this._guiFields["colors"][i],"color1").onChange((function(e){pt[parseInt(t.name)].drawMat.uniforms.uColor1.value=new h["Vector3"](e[0]/255,e[1]/255,e[2]/255)})),t.addColor(this._guiFields["colors"][i],"color2").onChange((function(e){pt[parseInt(t.name)].drawMat.uniforms.uColor2.value=new h["Vector3"](e[0]/255,e[1]/255,e[2]/255)})),t.add(this._guiFields,"alpha",0,1).onChange((function(e){pt[parseInt(t.name)].drawMat.uniforms.uAlpha.value=e})),t.add(this._guiFields,"color speed",-10,10).onChange((function(e){pt[parseInt(t.name)].drawMat.uniforms.uColorSpeed.value=e})),t.add(this._guiFields,"color freq",0,5).onChange((function(e){pt[parseInt(t.name)].drawMat.uniforms.uColorFreq.value=e})),t.add(this._guiFields,"point size",1,10).onChange((function(e){pt[parseInt(t.name)].drawMat.uniforms.uPointSize.value=e})),t.add(this._guiFields,"user gravity",0,10).onChange((function(e){pt[parseInt(t.name)].simMat.uniforms.uInputAccel.value=e})),t.add(this._guiFields,"shape gravity",0,10).onChange((function(e){pt[parseInt(t.name)].simMat.uniforms.uShapeAccel.value=e}))}var r=this._gui.addFolder("Controls");r.add(this._guiFields,"paused").onChange((function(t){ft.forEach((function(e){e.pauseSimulation(t)}))})).listen(),r.add(this._guiFields,"camera rotate").onChange((function(t){ft.forEach((function(e){e.enableCameraAutoRotate(t)}))})),r.add(this._guiFields,"camera control").onChange((function(t){ft.forEach((function(e){e.enableCameraControl(t)}))})).listen(),this._gui.add(this._guiFields,"fullscreen")},_initKeyboard(){Mousetrap.bind("space",(function(){return _guiFields.paused=!_guiFields.paused,K.pauseSimulation(_guiFields.paused),!1})),Mousetrap.bind(["alt","option"],(function(){return _guiFields["camera control"]=!0,K.enableCameraControl(!0),!1}),"keydown"),Mousetrap.bind(["alt","option"],(function(){return _guiFields["camera control"]=!1,K.enableCameraControl(!1),!1}),"keyup")},_setPreset(t){var e=At[t]||At.none;if(gt=t,e._shape.length>=0){this._setSimMode(e._shape);for(var n=0;n<mt.length;n++)mt[n].setMesh()}else{this._setSimMode("SIM_TEXTURE");for(n=0;n<mt.length;n++)mt[n].setMesh(e._shape.mesh)}for(n=0;n<pt.length;n++){var i=pt[n];this._guiFields["user gravity"]=i.simMat.uniforms.uInputAccel.value=e["user gravity"],this._guiFields["shape gravity"]=i.simMat.uniforms.uShapeAccel.value=e["shape gravity"]}},_setSimMode(t){if(t!==X){if(X=t,wt.forEach((function(t){for(var e=0;e<pt.length;e++)delete pt[e].simMat.defines[t]})),t)for(var e=0;e<pt.length;e++)pt[e].simMat.defines[t]="";for(e=0;e<pt.length;e++)pt[e].simMat.needsUpdate=!0}},initThree(){for(var t=0;t<pt.length;t++)pt[t].drawMat.uniforms.uColor1.value.x=pt[t].color1.r,pt[t].drawMat.uniforms.uColor1.value.y=pt[t].color1.g,pt[t].drawMat.uniforms.uColor1.value.z=pt[t].color1.b,pt[t].drawMat.uniforms.uColor2.value.x=pt[t].color2.r,pt[t].drawMat.uniforms.uColor2.value.y=pt[t].color2.g,pt[t].drawMat.uniforms.uColor2.value.z=pt[t].color2.b;this.init(),null==this._gui&&this._initUI(),this._initKeyboard(),this._setPreset(gt);for(t=0;t<ft.length;t++){let e=ft[t];e.start()}window.addEventListener("resize",this.onResize)},onResize(){var t=window.innerWidth,e=window.innerHeight;this.renderer.setSize(t,e),this.camera.aspect=t/e,this.camera.updateProjectionMatrix()},start(){for(const t of ft)t.start()},stop(){for(const t of ft)t.stop()}},mounted(){this.initThree()},destroyed(){this._gui.destroy()}},bt=yt,Ct=n("2877"),Lt=Object(Ct["a"])(bt,u,l,!1,null,null,null),xt=Lt.exports;const It=[{icon:n("c367"),label:"Activities",separator:!0,route:"/activities"},{icon:n("c48b"),label:"Claim / Assets",separator:!0,route:"/claim"},{icon:n("124e"),label:"Transfer",separator:!0,route:"/transfer"},{icon:n("a8e5"),label:"Mint",separator:!0,route:"/mint"},{icon:n("a39d"),label:"Alcor",separator:!0,route:"https://proton.alcor.exchange/"},{icon:n("b63b"),label:"Auctions",separator:!0,route:"https://auction.freeos.io"},{icon:n("9a67"),label:"Snipcoins Community",separator:!0,route:"https://snipcoins.com/Freeos_Chat"},{icon:n("07e6"),label:"Info",separator:!0,route:"https://docs.freeos.io/"}];var Et={data(){return{isShowDrawerButton:!1,drawer:!1,selectedItemLabel:null,isPersist:!(this.$q.screen.width<1023),menuList:It,ThreeJSToggle:!0}},computed:{...Object(a["c"])("freeos",["user","announceObj","isVerified","isRegistered","isAuthenticated","stakeRequirement","isFreeosEnabled","userHasStaked","userStake","airkeyBalance","currentPrice","targetPrice","priceLabel"]),appVersion:function(){return"0.2.27"}},components:{Loading:s["a"],CompleteDialog:c["a"],ThreeJS:xt},methods:{announceMsg(){const t=this;if(t.announceObj&&t.announceObj.text){var e=localStorage.getItem("announceTextId");if(!e||e!==t.announceObj.id){var n=t.announceObj.text;t.announceObj.link&&""!==t.announceObj.link&&(n+="<br /><a target='_blank' href='"+t.announceObj.link+"'>More Info Here</a>"),t.$refs.complete.openDialog({title:null,subtitle:"Announcement",text:n,value:null,currency:null,time:null,img:t.announceImg,closeFunc:function(){localStorage.setItem("announceTextId",t.announceObj.id)}})}}},...Object(a["b"])("freeos",["monitorBlockChain"]),async logoutSubmit(){await this.logout()},handleFunctionCall(t){return!t||this[t]()},showStake:function(){return!this.userHasStaked&&!this.airkeyBalance||this.userStake>0},showUserHasStakedORHasAirkey:function(){return this.userHasStaked||this.airkeyBalance},isRegisterVerifiedCheck:function(){return this.isVerified&&this.isRegistered},accountURL(){window.open("https://proton-test.bloks.io/account/"+this.accountName,"_blank")},onSigninFinish(t){t.isFinished&&(this.isShowDrawerButton=!0,this.drawer=!0,this.onSelectMenu(It[0]))},onSelectMenu(t){t.route.startsWith("http")?window.open(t.route,"_blank"):this.$route.path!==t.route&&this.$router.push(t.route)},...Object(a["b"])("account",["checkIfLoggedIn","connectWallet","logout","getAccountInfo","getClaimDetailInfo"]),...Object(a["b"])("calendar",["getClaimCalendar"])},created(){this.monitorBlockChain()},mounted(){document.body.classList.remove("index"),this.announceMsg()},watch:{isFreeosEnabled:{immediate:!0,handler:function(t,e){!1===t&&this.$router.push({path:"/"})}},isAuthenticated:{handler:function(t,e){!1===t&&this.$router.push({path:"/"})}},$route(t,e){let n=It.filter((e=>e.route==t.path));n.length&&(this.selectedItemLabel=n[0].label)},ThreeJSToggle(t,e){t?this.$refs.ThreeJsEl.start():this.$refs.ThreeJsEl.stop()}}},St=Et,jt=(n("89d3"),n("4d5a")),Dt=n("e359"),Pt=n("65c6"),kt=n("9c40"),Tt=n("9404"),zt=n("4983"),Bt=n("0016"),Nt=n("1c1c"),Ft=n("eb85"),Qt=n("66e5"),Ot=n("4074"),Rt=n("9564"),Ht=n("09e3"),Jt=n("7ff0"),Vt=n("6ac5"),Gt=n("cb32"),qt=n("b498"),Yt=n("714f"),Ut=n("eebe"),_t=n.n(Ut),Zt=Object(Ct["a"])(St,i,o,!1,null,null,null);e["default"]=Zt.exports;_t()(Zt,"components",{QLayout:jt["a"],QHeader:Dt["a"],QToolbar:Pt["a"],QBtn:kt["a"],QDrawer:Tt["a"],QScrollArea:zt["a"],QIcon:Bt["a"],QList:Nt["a"],QSeparator:Ft["a"],QItem:Qt["a"],QItemSection:Ot["a"],QToggle:Rt["a"],QPageContainer:Ht["a"],QFooter:Jt["a"],QToolbarTitle:Vt["a"],QAvatar:Gt["a"],QColor:qt["a"]}),_t()(Zt,"directives",{Ripple:Yt["a"]})},"82a3":function(t,e,n){var i,r;n("ddb0"),n("130f"),n("cfc3"),n("5319"),function(t,e,n){function r(n,a){if(!e[n]){if(!t[n]){var s="function"==typeof i&&i;if(!a&&s)return i(n,!0);if(o)return o(n,!0);throw new Error("Cannot find module '"+n+"'")}var c=e[n]={exports:{}};t[n][0].call(c.exports,(function(e){var i=t[n][1][e];return r(i||e)}),c,c.exports)}return e[n].exports}for(var o="function"==typeof i&&i,a=0;a<n.length;a++)r(n[a])}({1:[function(t,e,n){t("./pointable");var i=t("gl-matrix"),r=i.vec3,o=i.mat3,a=i.mat4,s=(t("underscore"),e.exports=function(t,e){this.finger=t,this._center=null,this._matrix=null,this.type=e.type,this.prevJoint=e.prevJoint,this.nextJoint=e.nextJoint,this.width=e.width;var n=new Array(3);r.sub(n,e.nextJoint,e.prevJoint),this.length=r.length(n),this.basis=e.basis});s.prototype.left=function(){return this._left||(this._left=o.determinant(this.basis[0].concat(this.basis[1]).concat(this.basis[2]))<0),this._left},s.prototype.matrix=function(){if(this._matrix)return this._matrix;var t=this.basis,e=this._matrix=a.create();return e[0]=t[0][0],e[1]=t[0][1],e[2]=t[0][2],e[4]=t[1][0],e[5]=t[1][1],e[6]=t[1][2],e[8]=t[2][0],e[9]=t[2][1],e[10]=t[2][2],e[3]=this.center()[0],e[7]=this.center()[1],e[11]=this.center()[2],this.left()&&(e[0]*=-1,e[1]*=-1,e[2]*=-1),this._matrix},s.prototype.lerp=function(t,e){r.lerp(t,this.prevJoint,this.nextJoint,e)},s.prototype.center=function(){if(this._center)return this._center;var t=r.create();return this.lerp(t,.5),this._center=t,t},s.prototype.direction=function(){return[-1*this.basis[2][0],-1*this.basis[2][1],-1*this.basis[2][2]]}},{"./pointable":14,"gl-matrix":23,underscore:24}],2:[function(t,e,n){var i=e.exports=function(t){this.pos=0,this._buf=[],this.size=t};i.prototype.get=function(t){if(void 0==t&&(t=0),!(t>=this.size)&&!(t>=this._buf.length))return this._buf[(this.pos-t-1)%this.size]},i.prototype.push=function(t){return this._buf[this.pos%this.size]=t,this.pos++}},{}],3:[function(t,e,n){var i=t("../protocol").chooseProtocol,r=t("events").EventEmitter,o=t("underscore"),a=e.exports=function(t){this.opts=o.defaults(t||{},{host:"127.0.0.1",enableGestures:!1,scheme:this.getScheme(),port:this.getPort(),background:!1,optimizeHMD:!1,requestProtocolVersion:a.defaultProtocolVersion}),this.host=this.opts.host,this.port=this.opts.port,this.scheme=this.opts.scheme,this.protocolVersionVerified=!1,this.background=null,this.optimizeHMD=null,this.on("ready",(function(){this.enableGestures(this.opts.enableGestures),this.setBackground(this.opts.background),this.setOptimizeHMD(this.opts.optimizeHMD),this.opts.optimizeHMD?console.log("Optimized for head mounted display usage."):console.log("Optimized for desktop usage.")}))};a.defaultProtocolVersion=6,a.prototype.getUrl=function(){return this.scheme+"//"+this.host+":"+this.port+"/v"+this.opts.requestProtocolVersion+".json"},a.prototype.getScheme=function(){return"ws:"},a.prototype.getPort=function(){return 6437},a.prototype.setBackground=function(t){this.opts.background=t,this.protocol&&this.protocol.sendBackground&&this.background!==this.opts.background&&(this.background=this.opts.background,this.protocol.sendBackground(this,this.opts.background))},a.prototype.setOptimizeHMD=function(t){this.opts.optimizeHMD=t,this.protocol&&this.protocol.sendOptimizeHMD&&this.optimizeHMD!==this.opts.optimizeHMD&&(this.optimizeHMD=this.opts.optimizeHMD,this.protocol.sendOptimizeHMD(this,this.opts.optimizeHMD))},a.prototype.handleOpen=function(){this.connected||(this.connected=!0,this.emit("connect"))},a.prototype.enableGestures=function(t){this.gesturesEnabled=!!t,this.send(this.protocol.encode({enableGestures:this.gesturesEnabled}))},a.prototype.handleClose=function(t,e){this.connected&&(this.disconnect(),1001===t&&this.opts.requestProtocolVersion>1&&(this.protocolVersionVerified?this.protocolVersionVerified=!1:this.opts.requestProtocolVersion--),this.startReconnection())},a.prototype.startReconnection=function(){var t=this;this.reconnectionTimer||(this.reconnectionTimer=setInterval((function(){t.reconnect()}),500))},a.prototype.stopReconnection=function(){this.reconnectionTimer=clearInterval(this.reconnectionTimer)},a.prototype.disconnect=function(t){if(t||this.stopReconnection(),this.socket)return this.socket.close(),delete this.socket,delete this.protocol,delete this.background,delete this.optimizeHMD,delete this.focusedState,this.connected&&(this.connected=!1,this.emit("disconnect")),!0},a.prototype.reconnect=function(){this.connected?this.stopReconnection():(this.disconnect(!0),this.connect())},a.prototype.handleData=function(t){var e,n=JSON.parse(t);void 0===this.protocol?(e=this.protocol=i(n),this.protocolVersionVerified=!0,this.emit("ready")):e=this.protocol(n),this.emit(e.type,e)},a.prototype.connect=function(){if(!this.socket)return this.socket=this.setupSocket(),!0},a.prototype.send=function(t){this.socket.send(t)},a.prototype.reportFocus=function(t){this.connected&&this.focusedState!==t&&(this.focusedState=t,this.emit(this.focusedState?"focus":"blur"),this.protocol&&this.protocol.sendFocused&&this.protocol.sendFocused(this,this.focusedState))},o.extend(a.prototype,r.prototype)},{"../protocol":15,events:21,underscore:24}],4:[function(t,e,n){var i=e.exports=t("./base"),r=t("underscore"),o=e.exports=function(t){i.call(this,t);var e=this;this.on("ready",(function(){e.startFocusLoop()})),this.on("disconnect",(function(){e.stopFocusLoop()}))};r.extend(o.prototype,i.prototype),o.__proto__=i,o.prototype.useSecure=function(){return"https:"===location.protocol},o.prototype.getScheme=function(){return this.useSecure()?"wss:":"ws:"},o.prototype.getPort=function(){return this.useSecure()?6436:6437},o.prototype.setupSocket=function(){var t=this,e=new WebSocket(this.getUrl());return e.onopen=function(){t.handleOpen()},e.onclose=function(e){t.handleClose(e["code"],e["reason"])},e.onmessage=function(e){t.handleData(e.data)},e.onerror=function(e){t.useSecure()&&"wss:"===t.scheme&&(t.scheme="ws:",t.port=6437,t.disconnect(),t.connect())},e},o.prototype.startFocusLoop=function(){if(!this.focusDetectorTimer){var t=this,e=null;e="undefined"!==typeof document.hidden?"hidden":"undefined"!==typeof document.mozHidden?"mozHidden":"undefined"!==typeof document.msHidden?"msHidden":"undefined"!==typeof document.webkitHidden?"webkitHidden":void 0,void 0===t.windowVisible&&(t.windowVisible=void 0===e||!1===document[e]);var n=window.addEventListener("focus",(function(e){t.windowVisible=!0,r()})),i=window.addEventListener("blur",(function(e){t.windowVisible=!1,r()}));this.on("disconnect",(function(){window.removeEventListener("focus",n),window.removeEventListener("blur",i)}));var r=function(){var n=void 0===e||!1===document[e];t.reportFocus(n&&t.windowVisible)};r(),this.focusDetectorTimer=setInterval(r,100)}},o.prototype.stopFocusLoop=function(){this.focusDetectorTimer&&(clearTimeout(this.focusDetectorTimer),delete this.focusDetectorTimer)}},{"./base":3,underscore:24}],5:[function(t,e,n){var i=t("__browserify_process"),r=t("./frame"),o=t("./hand"),a=t("./pointable"),s=t("./finger"),c=t("./circular_buffer"),u=t("./pipeline"),l=t("events").EventEmitter,h=t("./gesture").gestureListener,d=t("./dialog"),p=t("underscore"),f=e.exports=function(e){var n="undefined"!==typeof i&&i.versions&&i.versions.node,o=this;e=p.defaults(e||{},{inNode:n}),this.inNode=e.inNode,e=p.defaults(e||{},{frameEventName:this.useAnimationLoop()?"animationFrame":"deviceFrame",suppressAnimationLoop:!this.useAnimationLoop(),loopWhileDisconnected:!0,useAllPlugins:!1,checkVersion:!0}),this.animationFrameRequested=!1,this.onAnimationFrame=function(t){o.lastConnectionFrame.valid&&o.emit("animationFrame",o.lastConnectionFrame),o.emit("frameEnd",t),o.loopWhileDisconnected&&(!1!==o.connection.focusedState||o.connection.opts.background)?window.requestAnimationFrame(o.onAnimationFrame):o.animationFrameRequested=!1},this.suppressAnimationLoop=e.suppressAnimationLoop,this.loopWhileDisconnected=e.loopWhileDisconnected,this.frameEventName=e.frameEventName,this.useAllPlugins=e.useAllPlugins,this.history=new c(200),this.lastFrame=r.Invalid,this.lastValidFrame=r.Invalid,this.lastConnectionFrame=r.Invalid,this.accumulatedGestures=[],this.checkVersion=e.checkVersion,void 0===e.connectionType?this.connectionType=this.inBrowser()?t("./connection/browser"):t("./connection/node"):this.connectionType=e.connectionType,this.connection=new this.connectionType(e),this.streamingCount=0,this.devices={},this.plugins={},this._pluginPipelineSteps={},this._pluginExtendedMethods={},e.useAllPlugins&&this.useRegisteredPlugins(),this.setupFrameEvents(e),this.setupConnectionEvents(),this.startAnimationLoop()};f.prototype.gesture=function(t,e){var n=h(this,t);return void 0!==e&&n.stop(e),n},f.prototype.setBackground=function(t){return this.connection.setBackground(t),this},f.prototype.setOptimizeHMD=function(t){return this.connection.setOptimizeHMD(t),this},f.prototype.inBrowser=function(){return!this.inNode},f.prototype.useAnimationLoop=function(){return this.inBrowser()&&!this.inBackgroundPage()},f.prototype.inBackgroundPage=function(){return"undefined"!==typeof chrome&&chrome.extension&&chrome.extension.getBackgroundPage&&chrome.extension.getBackgroundPage()===window},f.prototype.connect=function(){return this.connection.connect(),this},f.prototype.streaming=function(){return this.streamingCount>0},f.prototype.connected=function(){return!!this.connection.connected},f.prototype.startAnimationLoop=function(){this.suppressAnimationLoop||this.animationFrameRequested||(this.animationFrameRequested=!0,window.requestAnimationFrame(this.onAnimationFrame))},f.prototype.disconnect=function(){return this.connection.disconnect(),this},f.prototype.frame=function(t){return this.history.get(t)||r.Invalid},f.prototype.loop=function(t){return t&&("function"===typeof t?this.on(this.frameEventName,t):this.setupFrameEvents(t)),this.connect()},f.prototype.addStep=function(t){this.pipeline||(this.pipeline=new u(this)),this.pipeline.addStep(t)},f.prototype.processFrame=function(t){t.gestures&&(this.accumulatedGestures=this.accumulatedGestures.concat(t.gestures)),this.lastConnectionFrame=t,this.startAnimationLoop(),this.emit("deviceFrame",t)},f.prototype.processFinishedFrame=function(t){if(this.lastFrame=t,t.valid&&(this.lastValidFrame=t),t.controller=this,t.historyIdx=this.history.push(t),t.gestures){t.gestures=this.accumulatedGestures,this.accumulatedGestures=[];for(var e=0;e!=t.gestures.length;e++)this.emit("gesture",t.gestures[e],t)}this.pipeline&&(t=this.pipeline.run(t),t||(t=r.Invalid)),this.emit("frame",t),this.emitHandEvents(t)},f.prototype.emitHandEvents=function(t){for(var e=0;e<t.hands.length;e++)this.emit("hand",t.hands[e])},f.prototype.setupFrameEvents=function(t){t.frame&&this.on("frame",t.frame),t.hand&&this.on("hand",t.hand)},f.prototype.setupConnectionEvents=function(){var t=this;this.connection.on("frame",(function(e){t.processFrame(e)})),this.on(this.frameEventName,(function(e){t.processFinishedFrame(e)}));var e=function(){if(t.connection.opts.requestProtocolVersion<5&&0==t.streamingCount){t.streamingCount=1;var n={attached:!0,streaming:!0,type:"unknown",id:"Lx00000000000"};t.devices[n.id]=n,t.emit("deviceAttached",n),t.emit("deviceStreaming",n),t.emit("streamingStarted",n),t.connection.removeListener("frame",e)}},n=function(){if(t.streamingCount>0){for(var e in t.devices)t.emit("deviceStopped",t.devices[e]),t.emit("deviceRemoved",t.devices[e]);for(var e in t.emit("streamingStopped",t.devices[e]),t.streamingCount=0,t.devices)delete t.devices[e]}};this.connection.on("focus",(function(){t.loopWhileDisconnected&&t.startAnimationLoop(),t.emit("focus")})),this.connection.on("blur",(function(){t.emit("blur")})),this.connection.on("protocol",(function(e){e.on("beforeFrameCreated",(function(e){t.emit("beforeFrameCreated",e)})),e.on("afterFrameCreated",(function(e,n){t.emit("afterFrameCreated",e,n)})),t.emit("protocol",e)})),this.connection.on("ready",(function(){t.checkVersion&&!t.inNode&&t.checkOutOfDate(),t.emit("ready")})),this.connection.on("connect",(function(){t.emit("connect"),t.connection.removeListener("frame",e),t.connection.on("frame",e)})),this.connection.on("disconnect",(function(){t.emit("disconnect"),n()})),this.connection.on("deviceConnect",(function(i){i.state?(t.emit("deviceConnected"),t.connection.removeListener("frame",e),t.connection.on("frame",e)):(t.emit("deviceDisconnected"),n())})),this.connection.on("deviceEvent",(function(e){var n=e.state,i=t.devices[n.id],r={};for(var o in n)i&&i.hasOwnProperty(o)&&i[o]==n[o]||(r[o]=!0);t.devices[n.id]=n,r.attached&&t.emit(n.attached?"deviceAttached":"deviceRemoved",n),r.streaming&&(n.streaming?(t.streamingCount++,t.emit("deviceStreaming",n),1==t.streamingCount&&t.emit("streamingStarted",n),r.attached||t.emit("deviceConnected")):r.attached&&n.attached||(t.streamingCount--,t.emit("deviceStopped",n),0==t.streamingCount&&t.emit("streamingStopped",n),t.emit("deviceDisconnected")))})),this.on("newListener",(function(t,e){"deviceConnected"!=t&&"deviceDisconnected"!=t||console.warn(t+" events are depricated.  Consider using 'streamingStarted/streamingStopped' or 'deviceStreaming/deviceStopped' instead")}))},f.prototype.checkOutOfDate=function(){console.assert(this.connection&&this.connection.protocol);var t=this.connection.protocol.serviceVersion,e=this.connection.protocol.version,n=this.connectionType.defaultProtocolVersion;return n>e&&(console.warn("Your Protocol Version is v"+e+", this app was designed for v"+n),d.warnOutOfDate({sV:t,pV:e}),!0)},f._pluginFactories={},f.plugin=function(t,e){return this._pluginFactories[t]&&console.warn('Plugin "'+t+'" already registered'),this._pluginFactories[t]=e},f.plugins=function(){return p.keys(this._pluginFactories)};var m=function(t,e,n){-1!=["beforeFrameCreated","afterFrameCreated"].indexOf(e)?this.on(e,n):(this.pipeline||(this.pipeline=new u(this)),this._pluginPipelineSteps[t]||(this._pluginPipelineSteps[t]=[]),this._pluginPipelineSteps[t].push(this.pipeline.addWrappedStep(e,n)))},g=function(t,e,n){var i;switch(this._pluginExtendedMethods[t]||(this._pluginExtendedMethods[t]=[]),e){case"frame":i=r;break;case"hand":i=o;break;case"pointable":i=a,p.extend(s.prototype,n),p.extend(s.Invalid,n);break;case"finger":i=s;break;default:throw t+' specifies invalid object type "'+e+'" for prototypical extension'}p.extend(i.prototype,n),p.extend(i.Invalid,n),this._pluginExtendedMethods[t].push([i,n])};f.prototype.use=function(t,e){var n,i,r,o;if(i="function"==typeof t?t:f._pluginFactories[t],!i)throw"Leap Plugin "+t+" not found.";if(e||(e={}),this.plugins[t])return p.extend(this.plugins[t],e),this;for(r in this.plugins[t]=e,o=i.call(this,e),o)n=o[r],"function"===typeof n?m.call(this,t,r,n):g.call(this,t,r,n);return this},f.prototype.stopUsing=function(t){var e,n,i=this._pluginPipelineSteps[t],r=this._pluginExtendedMethods[t],o=0;if(this.plugins[t]){if(i)for(o=0;o<i.length;o++)this.pipeline.removeStep(i[o]);if(r)for(o=0;o<r.length;o++)for(var a in e=r[o][0],n=r[o][1],n)delete e.prototype[a],delete e.Invalid[a];return delete this.plugins[t],this}},f.prototype.useRegisteredPlugins=function(){for(var t in f._pluginFactories)this.use(t)},p.extend(f.prototype,l.prototype)},{"./circular_buffer":2,"./connection/browser":4,"./connection/node":20,"./dialog":6,"./finger":7,"./frame":8,"./gesture":9,"./hand":10,"./pipeline":13,"./pointable":14,__browserify_process:22,events:21,underscore:24}],6:[function(t,e,n){var i=t("__browserify_process"),r=e.exports=function(t,e){this.options=e||{},this.message=t,this.createElement()};r.prototype.createElement=function(){this.element=document.createElement("div"),this.element.className="leapjs-dialog",this.element.style.position="fixed",this.element.style.top="8px",this.element.style.left=0,this.element.style.right=0,this.element.style.textAlign="center",this.element.style.zIndex=1e3;var t=document.createElement("div");this.element.appendChild(t),t.style.className="leapjs-dialog",t.style.display="inline-block",t.style.margin="auto",t.style.padding="8px",t.style.color="#222",t.style.background="#eee",t.style.borderRadius="4px",t.style.border="1px solid #999",t.style.textAlign="left",t.style.cursor="pointer",t.style.whiteSpace="nowrap",t.style.transition="box-shadow 1s linear",t.innerHTML=this.message,this.options.onclick&&t.addEventListener("click",this.options.onclick),this.options.onmouseover&&t.addEventListener("mouseover",this.options.onmouseover),this.options.onmouseout&&t.addEventListener("mouseout",this.options.onmouseout),this.options.onmousemove&&t.addEventListener("mousemove",this.options.onmousemove)},r.prototype.show=function(){return document.body.appendChild(this.element),this},r.prototype.hide=function(){return document.body.removeChild(this.element),this},r.warnOutOfDate=function(t){t||(t={});var e="http://developer.leapmotion.com?";for(var n in t.returnTo=window.location.href,t)e+=n+"="+encodeURIComponent(t[n])+"&";var i,o=function(t){if("leapjs-decline-upgrade"!=t.target.id){var n=window.open(e,"_blank","height=800,width=1000,location=1,menubar=1,resizable=1,status=1,toolbar=1,scrollbars=1");window.focus&&n.focus()}return i.hide(),!0},a="This site requires Leap Motion Tracking V2.<button id='leapjs-accept-upgrade'  style='color: #444; transition: box-shadow 100ms linear; cursor: pointer; vertical-align: baseline; margin-left: 16px;'>Upgrade</button><button id='leapjs-decline-upgrade' style='color: #444; transition: box-shadow 100ms linear; cursor: pointer; vertical-align: baseline; margin-left: 8px; '>Not Now</button>";return i=new r(a,{onclick:o,onmousemove:function(t){t.target==document.getElementById("leapjs-decline-upgrade")?(document.getElementById("leapjs-decline-upgrade").style.color="#000",document.getElementById("leapjs-decline-upgrade").style.boxShadow="0px 0px 2px #5daa00",document.getElementById("leapjs-accept-upgrade").style.color="#444",document.getElementById("leapjs-accept-upgrade").style.boxShadow="none"):(document.getElementById("leapjs-accept-upgrade").style.color="#000",document.getElementById("leapjs-accept-upgrade").style.boxShadow="0px 0px 2px #5daa00",document.getElementById("leapjs-decline-upgrade").style.color="#444",document.getElementById("leapjs-decline-upgrade").style.boxShadow="none")},onmouseout:function(){document.getElementById("leapjs-decline-upgrade").style.color="#444",document.getElementById("leapjs-decline-upgrade").style.boxShadow="none",document.getElementById("leapjs-accept-upgrade").style.color="#444",document.getElementById("leapjs-accept-upgrade").style.boxShadow="none"}}),i.show()},r.hasWarnedBones=!1,r.warnBones=function(){this.hasWarnedBones||(this.hasWarnedBones=!0,console.warn("Your Leap Service is out of date"),"undefined"!==typeof i&&i.versions&&i.versions.node||this.warnOutOfDate({reason:"bones"}))}},{__browserify_process:22}],7:[function(t,e,n){var i=t("./pointable"),r=t("./bone"),o=t("./dialog"),a=t("underscore"),s=e.exports=function(t){i.call(this,t),this.dipPosition=t.dipPosition,this.pipPosition=t.pipPosition,this.mcpPosition=t.mcpPosition,this.carpPosition=t.carpPosition,this.extended=t.extended,this.type=t.type,this.finger=!0,this.positions=[this.carpPosition,this.mcpPosition,this.pipPosition,this.dipPosition,this.tipPosition],t.bases?this.addBones(t):o.warnBones()};a.extend(s.prototype,i.prototype),s.prototype.addBones=function(t){this.metacarpal=new r(this,{type:0,width:this.width,prevJoint:this.carpPosition,nextJoint:this.mcpPosition,basis:t.bases[0]}),this.proximal=new r(this,{type:1,width:this.width,prevJoint:this.mcpPosition,nextJoint:this.pipPosition,basis:t.bases[1]}),this.medial=new r(this,{type:2,width:this.width,prevJoint:this.pipPosition,nextJoint:this.dipPosition,basis:t.bases[2]}),this.distal=new r(this,{type:3,width:this.width,prevJoint:this.dipPosition,nextJoint:t.btipPosition,basis:t.bases[3]}),this.bones=[this.metacarpal,this.proximal,this.medial,this.distal]},s.prototype.toString=function(){return"Finger [ id:"+this.id+" "+this.length+"mmx | width:"+this.width+"mm | direction:"+this.direction+" ]"},s.Invalid={valid:!1}},{"./bone":1,"./dialog":6,"./pointable":14,underscore:24}],8:[function(t,e,n){var i=t("./hand"),r=t("./pointable"),o=t("./gesture").createGesture,a=t("gl-matrix"),s=a.mat3,c=a.vec3,u=t("./interaction_box"),l=t("./finger"),h=t("underscore"),d=e.exports=function(t){if(this.valid=!0,this.id=t.id,this.timestamp=t.timestamp,this.hands=[],this.handsMap={},this.pointables=[],this.tools=[],this.fingers=[],t.interactionBox&&(this.interactionBox=new u(t.interactionBox)),this.gestures=[],this.pointablesMap={},this._translation=t.t,this._rotation=h.flatten(t.r),this._scaleFactor=t.s,this.data=t,this.type="frame",this.currentFrameRate=t.currentFrameRate,t.gestures)for(var e=0,n=t.gestures.length;e!=n;e++)this.gestures.push(o(t.gestures[e]));this.postprocessData(t)};d.prototype.postprocessData=function(t){t||(t=this.data);for(var e=0,n=t.hands.length;e!=n;e++){var o=new i(t.hands[e]);o.frame=this,this.hands.push(o),this.handsMap[o.id]=o}t.pointables=h.sortBy(t.pointables,(function(t){return t.id}));for(var a=0,s=t.pointables.length;a!=s;a++){var c=t.pointables[a],u=c.dipPosition?new l(c):new r(c);u.frame=this,this.addPointable(u)}},d.prototype.addPointable=function(t){if(this.pointables.push(t),this.pointablesMap[t.id]=t,(t.tool?this.tools:this.fingers).push(t),void 0!==t.handId&&this.handsMap.hasOwnProperty(t.handId)){var e=this.handsMap[t.handId];switch(e.pointables.push(t),(t.tool?e.tools:e.fingers).push(t),t.type){case 0:e.thumb=t;break;case 1:e.indexFinger=t;break;case 2:e.middleFinger=t;break;case 3:e.ringFinger=t;break;case 4:e.pinky=t;break}}},d.prototype.tool=function(t){var e=this.pointable(t);return e.tool?e:r.Invalid},d.prototype.pointable=function(t){return this.pointablesMap[t]||r.Invalid},d.prototype.finger=function(t){var e=this.pointable(t);return e.tool?r.Invalid:e},d.prototype.hand=function(t){return this.handsMap[t]||i.Invalid},d.prototype.rotationAngle=function(t,e){if(!this.valid||!t.valid)return 0;var n=this.rotationMatrix(t),i=.5*(n[0]+n[4]+n[8]-1),r=Math.acos(i);if(r=isNaN(r)?0:r,void 0!==e){var o=this.rotationAxis(t);r*=c.dot(o,c.normalize(c.create(),e))}return r},d.prototype.rotationAxis=function(t){return this.valid&&t.valid?c.normalize(c.create(),[this._rotation[7]-t._rotation[5],this._rotation[2]-t._rotation[6],this._rotation[3]-t._rotation[1]]):c.create()},d.prototype.rotationMatrix=function(t){if(!this.valid||!t.valid)return s.create();var e=s.transpose(s.create(),this._rotation);return s.multiply(s.create(),t._rotation,e)},d.prototype.scaleFactor=function(t){return this.valid&&t.valid?Math.exp(this._scaleFactor-t._scaleFactor):1},d.prototype.translation=function(t){return this.valid&&t.valid?c.subtract(c.create(),this._translation,t._translation):c.create()},d.prototype.toString=function(){var t="Frame [ id:"+this.id+" | timestamp:"+this.timestamp+" | Hand count:("+this.hands.length+") | Pointable count:("+this.pointables.length+")";return this.gestures&&(t+=" | Gesture count:("+this.gestures.length+")"),t+=" ]",t},d.prototype.dump=function(){var t="";t+="Frame Info:<br/>",t+=this.toString(),t+="<br/><br/>Hands:<br/>";for(var e=0,n=this.hands.length;e!=n;e++)t+="  "+this.hands[e].toString()+"<br/>";t+="<br/><br/>Pointables:<br/>";for(var i=0,r=this.pointables.length;i!=r;i++)t+="  "+this.pointables[i].toString()+"<br/>";if(this.gestures){t+="<br/><br/>Gestures:<br/>";for(var o=0,a=this.gestures.length;o!=a;o++)t+="  "+this.gestures[o].toString()+"<br/>"}return t+="<br/><br/>Raw JSON:<br/>",t+=JSON.stringify(this.data),t},d.Invalid={valid:!1,hands:[],fingers:[],tools:[],gestures:[],pointables:[],pointable:function(){return r.Invalid},finger:function(){return r.Invalid},hand:function(){return i.Invalid},toString:function(){return"invalid frame"},dump:function(){return this.toString()},rotationAngle:function(){return 0},rotationMatrix:function(){return s.create()},rotationAxis:function(){return c.create()},scaleFactor:function(){return 1},translation:function(){return c.create()}}},{"./finger":7,"./gesture":9,"./hand":10,"./interaction_box":12,"./pointable":14,"gl-matrix":23,underscore:24}],9:[function(t,e,n){var i=t("gl-matrix"),r=i.vec3,o=t("events").EventEmitter,a=t("underscore"),s=(n.createGesture=function(t){var e;switch(t.type){case"circle":e=new c(t);break;case"swipe":e=new u(t);break;case"screenTap":e=new l(t);break;case"keyTap":e=new h(t);break;default:throw"unknown gesture type"}return e.id=t.id,e.handIds=t.handIds.slice(),e.pointableIds=t.pointableIds.slice(),e.duration=t.duration,e.state=t.state,e.type=t.type,e},n.gestureListener=function(t,e){var n={},i={};t.on("gesture",(function(t,r){if(t.type==e){if(("start"==t.state||"stop"==t.state)&&void 0===i[t.id]){var o=new s(t,r);i[t.id]=o,a.each(n,(function(t,e){o.on(e,t)}))}i[t.id].update(t,r),"stop"==t.state&&delete i[t.id]}}));var r={start:function(t){return n["start"]=t,r},stop:function(t){return n["stop"]=t,r},complete:function(t){return n["stop"]=t,r},update:function(t){return n["update"]=t,r}};return r},n.Gesture=function(t,e){this.gestures=[t],this.frames=[e]});s.prototype.update=function(t,e){this.lastGesture=t,this.lastFrame=e,this.gestures.push(t),this.frames.push(e),this.emit(t.state,this)},s.prototype.translation=function(){return r.subtract(r.create(),this.lastGesture.startPosition,this.lastGesture.position)},a.extend(s.prototype,o.prototype);var c=function(t){this.center=t.center,this.normal=t.normal,this.progress=t.progress,this.radius=t.radius};c.prototype.toString=function(){return"CircleGesture ["+JSON.stringify(this)+"]"};var u=function(t){this.startPosition=t.startPosition,this.position=t.position,this.direction=t.direction,this.speed=t.speed};u.prototype.toString=function(){return"SwipeGesture ["+JSON.stringify(this)+"]"};var l=function(t){this.position=t.position,this.direction=t.direction,this.progress=t.progress};l.prototype.toString=function(){return"ScreenTapGesture ["+JSON.stringify(this)+"]"};var h=function(t){this.position=t.position,this.direction=t.direction,this.progress=t.progress};h.prototype.toString=function(){return"KeyTapGesture ["+JSON.stringify(this)+"]"}},{events:21,"gl-matrix":23,underscore:24}],10:[function(t,e,n){var i=t("./pointable"),r=t("./bone"),o=t("gl-matrix"),a=o.mat3,s=o.vec3,c=t("underscore"),u=e.exports=function(t){this.id=t.id,this.palmPosition=t.palmPosition,this.direction=t.direction,this.palmVelocity=t.palmVelocity,this.palmNormal=t.palmNormal,this.sphereCenter=t.sphereCenter,this.sphereRadius=t.sphereRadius,this.valid=!0,this.pointables=[],this.fingers=[],t.armBasis?this.arm=new r(this,{type:4,width:t.armWidth,prevJoint:t.elbow,nextJoint:t.wrist,basis:t.armBasis}):this.arm=null,this.tools=[],this._translation=t.t,this._rotation=c.flatten(t.r),this._scaleFactor=t.s,this.timeVisible=t.timeVisible,this.stabilizedPalmPosition=t.stabilizedPalmPosition,this.type=t.type,this.grabStrength=t.grabStrength,this.pinchStrength=t.pinchStrength,this.confidence=t.confidence};u.prototype.finger=function(t){var e=this.frame.finger(t);return e&&e.handId==this.id?e:i.Invalid},u.prototype.rotationAngle=function(t,e){if(!this.valid||!t.valid)return 0;var n=t.hand(this.id);if(!n.valid)return 0;var i=this.rotationMatrix(t),r=.5*(i[0]+i[4]+i[8]-1),o=Math.acos(r);if(o=isNaN(o)?0:o,void 0!==e){var a=this.rotationAxis(t);o*=s.dot(a,s.normalize(s.create(),e))}return o},u.prototype.rotationAxis=function(t){if(!this.valid||!t.valid)return s.create();var e=t.hand(this.id);return e.valid?s.normalize(s.create(),[this._rotation[7]-e._rotation[5],this._rotation[2]-e._rotation[6],this._rotation[3]-e._rotation[1]]):s.create()},u.prototype.rotationMatrix=function(t){if(!this.valid||!t.valid)return a.create();var e=t.hand(this.id);if(!e.valid)return a.create();var n=a.transpose(a.create(),this._rotation),i=a.multiply(a.create(),e._rotation,n);return i},u.prototype.scaleFactor=function(t){if(!this.valid||!t.valid)return 1;var e=t.hand(this.id);return e.valid?Math.exp(this._scaleFactor-e._scaleFactor):1},u.prototype.translation=function(t){if(!this.valid||!t.valid)return s.create();var e=t.hand(this.id);return e.valid?[this._translation[0]-e._translation[0],this._translation[1]-e._translation[1],this._translation[2]-e._translation[2]]:s.create()},u.prototype.toString=function(){return"Hand ("+this.type+") [ id: "+this.id+" | palm velocity:"+this.palmVelocity+" | sphere center:"+this.sphereCenter+" ] "},u.prototype.pitch=function(){return Math.atan2(this.direction[1],-this.direction[2])},u.prototype.yaw=function(){return Math.atan2(this.direction[0],-this.direction[2])},u.prototype.roll=function(){return Math.atan2(this.palmNormal[0],-this.palmNormal[1])},u.Invalid={valid:!1,fingers:[],tools:[],pointables:[],left:!1,pointable:function(){return i.Invalid},finger:function(){return i.Invalid},toString:function(){return"invalid frame"},dump:function(){return this.toString()},rotationAngle:function(){return 0},rotationMatrix:function(){return a.create()},rotationAxis:function(){return s.create()},scaleFactor:function(){return 1},translation:function(){return s.create()}}},{"./bone":1,"./pointable":14,"gl-matrix":23,underscore:24}],11:[function(t,e,n){e.exports={Controller:t("./controller"),Frame:t("./frame"),Gesture:t("./gesture"),Hand:t("./hand"),Pointable:t("./pointable"),Finger:t("./finger"),InteractionBox:t("./interaction_box"),CircularBuffer:t("./circular_buffer"),UI:t("./ui"),JSONProtocol:t("./protocol").JSONProtocol,glMatrix:t("gl-matrix"),mat3:t("gl-matrix").mat3,vec3:t("gl-matrix").vec3,loopController:void 0,version:t("./version.js"),_:t("underscore"),EventEmitter:t("events").EventEmitter,loop:function(t,e){return t&&void 0===e&&"[object Function]"==={}.toString.call(t)&&(e=t,t={}),this.loopController?t&&this.loopController.setupFrameEvents(t):this.loopController=new this.Controller(t),this.loopController.loop(e),this.loopController},plugin:function(t,e){this.Controller.plugin(t,e)}}},{"./circular_buffer":2,"./controller":5,"./finger":7,"./frame":8,"./gesture":9,"./hand":10,"./interaction_box":12,"./pointable":14,"./protocol":15,"./ui":16,"./version.js":19,events:21,"gl-matrix":23,underscore:24}],12:[function(t,e,n){var i=t("gl-matrix"),r=i.vec3,o=e.exports=function(t){this.valid=!0,this.center=t.center,this.size=t.size,this.width=t.size[0],this.height=t.size[1],this.depth=t.size[2]};o.prototype.denormalizePoint=function(t){return r.fromValues((t[0]-.5)*this.size[0]+this.center[0],(t[1]-.5)*this.size[1]+this.center[1],(t[2]-.5)*this.size[2]+this.center[2])},o.prototype.normalizePoint=function(t,e){var n=r.fromValues((t[0]-this.center[0])/this.size[0]+.5,(t[1]-this.center[1])/this.size[1]+.5,(t[2]-this.center[2])/this.size[2]+.5);return e&&(n[0]=Math.min(Math.max(n[0],0),1),n[1]=Math.min(Math.max(n[1],0),1),n[2]=Math.min(Math.max(n[2],0),1)),n},o.prototype.toString=function(){return"InteractionBox [ width:"+this.width+" | height:"+this.height+" | depth:"+this.depth+" ]"},o.Invalid={valid:!1}},{"gl-matrix":23}],13:[function(t,e,n){var i=e.exports=function(t){this.steps=[],this.controller=t};i.prototype.addStep=function(t){this.steps.push(t)},i.prototype.run=function(t){for(var e=this.steps.length,n=0;n!=e;n++){if(!t)break;t=this.steps[n](t)}return t},i.prototype.removeStep=function(t){var e=this.steps.indexOf(t);if(-1===e)throw"Step not found in pipeline";this.steps.splice(e,1)},i.prototype.addWrappedStep=function(t,e){var n=this.controller,i=function(i){var r,o,a;for(r="frame"==t?[i]:i[t+"s"]||[],o=0,a=r.length;o<a;o++)e.call(n,r[o]);return i};return this.addStep(i),i}},{}],14:[function(t,e,n){var i=t("gl-matrix"),r=(i.vec3,e.exports=function(t){this.valid=!0,this.id=t.id,this.handId=t.handId,this.length=t.length,this.tool=t.tool,this.width=t.width,this.direction=t.direction,this.stabilizedTipPosition=t.stabilizedTipPosition,this.tipPosition=t.tipPosition,this.tipVelocity=t.tipVelocity,this.touchZone=t.touchZone,this.touchDistance=t.touchDistance,this.timeVisible=t.timeVisible});r.prototype.toString=function(){return"Pointable [ id:"+this.id+" "+this.length+"mmx | width:"+this.width+"mm | direction:"+this.direction+" ]"},r.prototype.hand=function(){return this.frame.hand(this.handId)},r.Invalid={valid:!1}},{"gl-matrix":23}],15:[function(t,e,n){var i=t("./frame"),r=(t("./hand"),t("./pointable"),t("./finger"),t("underscore")),o=t("events").EventEmitter,a=function(t){this.type=t.type,this.state=t.state};n.chooseProtocol=function(t){var e;switch(t.version){case 1:case 2:case 3:case 4:case 5:case 6:e=s(t),e.sendBackground=function(t,n){t.send(e.encode({background:n}))},e.sendFocused=function(t,n){t.send(e.encode({focused:n}))},e.sendOptimizeHMD=function(t,n){t.send(e.encode({optimizeHMD:n}))};break;default:throw"unrecognized version"}return e};var s=n.JSONProtocol=function(t){var e=function(t){if(t.event)return new a(t.event);e.emit("beforeFrameCreated",t);var n=new i(t);return e.emit("afterFrameCreated",n,t),n};return e.encode=function(t){return JSON.stringify(t)},e.version=t.version,e.serviceVersion=t.serviceVersion,e.versionLong="Version "+t.version,e.type="protocol",r.extend(e,o.prototype),e}},{"./finger":7,"./frame":8,"./hand":10,"./pointable":14,events:21,underscore:24}],16:[function(t,e,n){n.UI={Region:t("./ui/region"),Cursor:t("./ui/cursor")}},{"./ui/cursor":17,"./ui/region":18}],17:[function(t,e,n){e.exports=function(){return function(t){var e=t.pointables.sort((function(t,e){return t.z-e.z}))[0];return e&&e.valid&&(t.cursorPosition=e.tipPosition),t}}},{}],18:[function(t,e,n){var i=t("events").EventEmitter,r=t("underscore"),o=e.exports=function(t,e){this.start=new Vector(t),this.end=new Vector(e),this.enteredFrame=null};o.prototype.hasPointables=function(t){for(var e=0;e!=t.pointables.length;e++){var n=t.pointables[e].tipPosition;if(n.x>=this.start.x&&n.x<=this.end.x&&n.y>=this.start.y&&n.y<=this.end.y&&n.z>=this.start.z&&n.z<=this.end.z)return!0}return!1},o.prototype.listener=function(t){var e=this;return t&&t.nearThreshold&&this.setupNearRegion(t.nearThreshold),function(t){return e.updatePosition(t)}},o.prototype.clipper=function(){var t=this;return function(e){return t.updatePosition(e),t.enteredFrame?e:null}},o.prototype.setupNearRegion=function(t){var e=this.nearRegion=new o([this.start.x-t,this.start.y-t,this.start.z-t],[this.end.x+t,this.end.y+t,this.end.z+t]),n=this;e.on("enter",(function(t){n.emit("near",t)})),e.on("exit",(function(t){n.emit("far",t)})),n.on("exit",(function(t){n.emit("near",t)}))},o.prototype.updatePosition=function(t){return this.nearRegion&&this.nearRegion.updatePosition(t),this.hasPointables(t)&&null==this.enteredFrame?(this.enteredFrame=t,this.emit("enter",this.enteredFrame)):this.hasPointables(t)||null==this.enteredFrame||(this.enteredFrame=null,this.emit("exit",this.enteredFrame)),t},o.prototype.normalize=function(t){return new Vector([(t.x-this.start.x)/(this.end.x-this.start.x),(t.y-this.start.y)/(this.end.y-this.start.y),(t.z-this.start.z)/(this.end.z-this.start.z)])},o.prototype.mapToXY=function(t,e,n){var i=this.normalize(t),r=i.x,o=i.y;return r>1?r=1:r<-1&&(r=-1),o>1?o=1:o<-1&&(o=-1),[(r+1)/2*e,(1-o)/2*n,i.z]},r.extend(o.prototype,i.prototype)},{events:21,underscore:24}],19:[function(t,e,n){e.exports={full:"0.6.4",major:0,minor:6,dot:4}},{}],20:[function(t,e,n){},{}],21:[function(t,e,n){var i=t("__browserify_process");i.EventEmitter||(i.EventEmitter=function(){});var r=n.EventEmitter=i.EventEmitter,o="function"===typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1}var s=10;r.prototype.setMaxListeners=function(t){this._events||(this._events={}),this._events.maxListeners=t},r.prototype.emit=function(t){if("error"===t&&(!this._events||!this._events.error||o(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var e=this._events[t];if(!e)return!1;if("function"==typeof e){switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);e.apply(this,n)}return!0}if(o(e)){n=Array.prototype.slice.call(arguments,1);for(var i=e.slice(),r=0,a=i.length;r<a;r++)i[r].apply(this,n);return!0}return!1},r.prototype.addListener=function(t,e){if("function"!==typeof e)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",t,e),this._events[t])if(o(this._events[t])){var n;if(!this._events[t].warned)n=void 0!==this._events.maxListeners?this._events.maxListeners:s,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),console.trace());this._events[t].push(e)}else this._events[t]=[this._events[t],e];else this._events[t]=e;return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){var n=this;return n.on(t,(function i(){n.removeListener(t,i),e.apply(this,arguments)})),this},r.prototype.removeListener=function(t,e){if("function"!==typeof e)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[t])return this;var n=this._events[t];if(o(n)){var i=a(n,e);if(i<0)return this;n.splice(i,1),0==n.length&&delete this._events[t]}else this._events[t]===e&&delete this._events[t];return this},r.prototype.removeAllListeners=function(t){return 0===arguments.length?(this._events={},this):(t&&this._events&&this._events[t]&&(this._events[t]=null),this)},r.prototype.listeners=function(t){return this._events||(this._events={}),this._events[t]||(this._events[t]=[]),o(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]},r.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?"function"===typeof t._events[e]?1:t._events[e].length:0,n}},{__browserify_process:22}],22:[function(t,e,n){var i=e.exports={};i.nextTick=function(){var t="undefined"!==typeof window&&window.setImmediate,e="undefined"!==typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",(function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var i=n.shift();i()}}),!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")}},{}],23:[function(t,e,i){(function(t){"use strict";var o={};"undefined"===typeof i?(o.exports={},r=function(){return o.exports}.call(i,n,i,e),void 0===r||(e.exports=r)):o.exports=i,function(t){if(!e)var e=1e-6;if(!n)var n="undefined"!==typeof Float32Array?Float32Array:Array;if(!i)var i=Math.random;var r={setMatrixArrayType:function(t){n=t}};"undefined"!==typeof t&&(t.glMatrix=r);var o=Math.PI/180;r.toRadian=function(t){return t*o};var a={create:function(){var t=new n(2);return t[0]=0,t[1]=0,t},clone:function(t){var e=new n(2);return e[0]=t[0],e[1]=t[1],e},fromValues:function(t,e){var i=new n(2);return i[0]=t,i[1]=e,i},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},set:function(t,e,n){return t[0]=e,t[1]=n,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}};a.sub=a.subtract,a.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},a.mul=a.multiply,a.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},a.div=a.divide,a.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},a.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},a.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},a.scaleAndAdd=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t},a.distance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(n*n+i*i)},a.dist=a.distance,a.squaredDistance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i},a.sqrDist=a.squaredDistance,a.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},a.len=a.length,a.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},a.sqrLen=a.squaredLength,a.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},a.normalize=function(t,e){var n=e[0],i=e[1],r=n*n+i*i;return r>0&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r),t},a.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},a.cross=function(t,e,n){var i=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=i,t},a.lerp=function(t,e,n,i){var r=e[0],o=e[1];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t},a.random=function(t,e){e=e||1;var n=2*i()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},a.transformMat2=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r,t[1]=n[1]*i+n[3]*r,t},a.transformMat2d=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t},a.transformMat3=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[3]*r+n[6],t[1]=n[1]*i+n[4]*r+n[7],t},a.transformMat4=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[4]*r+n[12],t[1]=n[1]*i+n[5]*r+n[13],t},a.forEach=function(){var t=a.create();return function(e,n,i,r,o,a){var s,c;for(n||(n=2),i||(i=0),c=r?Math.min(r*n+i,e.length):e.length,s=i;s<c;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}(),a.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},"undefined"!==typeof t&&(t.vec2=a);var s={create:function(){var t=new n(3);return t[0]=0,t[1]=0,t[2]=0,t},clone:function(t){var e=new n(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},fromValues:function(t,e,i){var r=new n(3);return r[0]=t,r[1]=e,r[2]=i,r},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},set:function(t,e,n,i){return t[0]=e,t[1]=n,t[2]=i,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}};s.sub=s.subtract,s.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},s.mul=s.multiply,s.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},s.div=s.divide,s.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},s.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},s.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},s.scaleAndAdd=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t},s.distance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(n*n+i*i+r*r)},s.dist=s.distance,s.squaredDistance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return n*n+i*i+r*r},s.sqrDist=s.squaredDistance,s.length=function(t){var e=t[0],n=t[1],i=t[2];return Math.sqrt(e*e+n*n+i*i)},s.len=s.length,s.squaredLength=function(t){var e=t[0],n=t[1],i=t[2];return e*e+n*n+i*i},s.sqrLen=s.squaredLength,s.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},s.normalize=function(t,e){var n=e[0],i=e[1],r=e[2],o=n*n+i*i+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t},s.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},s.cross=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[0],s=n[1],c=n[2];return t[0]=r*c-o*s,t[1]=o*a-i*c,t[2]=i*s-r*a,t},s.lerp=function(t,e,n,i){var r=e[0],o=e[1],a=e[2];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t[2]=a+i*(n[2]-a),t},s.random=function(t,e){e=e||1;var n=2*i()*Math.PI,r=2*i()-1,o=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=r*e,t},s.transformMat4=function(t,e,n){var i=e[0],r=e[1],o=e[2];return t[0]=n[0]*i+n[4]*r+n[8]*o+n[12],t[1]=n[1]*i+n[5]*r+n[9]*o+n[13],t[2]=n[2]*i+n[6]*r+n[10]*o+n[14],t},s.transformMat3=function(t,e,n){var i=e[0],r=e[1],o=e[2];return t[0]=i*n[0]+r*n[3]+o*n[6],t[1]=i*n[1]+r*n[4]+o*n[7],t[2]=i*n[2]+r*n[5]+o*n[8],t},s.transformQuat=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[0],s=n[1],c=n[2],u=n[3],l=u*i+s*o-c*r,h=u*r+c*i-a*o,d=u*o+a*r-s*i,p=-a*i-s*r-c*o;return t[0]=l*u+p*-a+h*-c-d*-s,t[1]=h*u+p*-s+d*-a-l*-c,t[2]=d*u+p*-c+l*-s-h*-a,t},s.rotateX=function(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[0],o[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),o[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},s.rotateY=function(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),o[1]=r[1],o[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},s.rotateZ=function(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),o[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),o[2]=r[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},s.forEach=function(){var t=s.create();return function(e,n,i,r,o,a){var s,c;for(n||(n=3),i||(i=0),c=r?Math.min(r*n+i,e.length):e.length,s=i;s<c;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}(),s.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},"undefined"!==typeof t&&(t.vec3=s);var c={create:function(){var t=new n(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},clone:function(t){var e=new n(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},fromValues:function(t,e,i,r){var o=new n(4);return o[0]=t,o[1]=e,o[2]=i,o[3]=r,o},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},set:function(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}};c.sub=c.subtract,c.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},c.mul=c.multiply,c.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},c.div=c.divide,c.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},c.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},c.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},c.scaleAndAdd=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t},c.distance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+i*i+r*r+o*o)},c.dist=c.distance,c.squaredDistance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2],o=e[3]-t[3];return n*n+i*i+r*r+o*o},c.sqrDist=c.squaredDistance,c.length=function(t){var e=t[0],n=t[1],i=t[2],r=t[3];return Math.sqrt(e*e+n*n+i*i+r*r)},c.len=c.length,c.squaredLength=function(t){var e=t[0],n=t[1],i=t[2],r=t[3];return e*e+n*n+i*i+r*r},c.sqrLen=c.squaredLength,c.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},c.normalize=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n*n+i*i+r*r+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a),t},c.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},c.lerp=function(t,e,n,i){var r=e[0],o=e[1],a=e[2],s=e[3];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t[2]=a+i*(n[2]-a),t[3]=s+i*(n[3]-s),t},c.random=function(t,e){return e=e||1,t[0]=i(),t[1]=i(),t[2]=i(),t[3]=i(),c.normalize(t,t),c.scale(t,t,e),t},c.transformMat4=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3];return t[0]=n[0]*i+n[4]*r+n[8]*o+n[12]*a,t[1]=n[1]*i+n[5]*r+n[9]*o+n[13]*a,t[2]=n[2]*i+n[6]*r+n[10]*o+n[14]*a,t[3]=n[3]*i+n[7]*r+n[11]*o+n[15]*a,t},c.transformQuat=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[0],s=n[1],c=n[2],u=n[3],l=u*i+s*o-c*r,h=u*r+c*i-a*o,d=u*o+a*r-s*i,p=-a*i-s*r-c*o;return t[0]=l*u+p*-a+h*-c-d*-s,t[1]=h*u+p*-s+d*-a-l*-c,t[2]=d*u+p*-c+l*-s-h*-a,t},c.forEach=function(){var t=c.create();return function(e,n,i,r,o,a){var s,c;for(n||(n=4),i||(i=0),c=r?Math.min(r*n+i,e.length):e.length,s=i;s<c;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}(),c.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},"undefined"!==typeof t&&(t.vec4=c);var u={create:function(){var t=new n(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},clone:function(t){var e=new n(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},transpose:function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},invert:function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n*o-r*i;return a?(a=1/a,t[0]=o*a,t[1]=-i*a,t[2]=-r*a,t[3]=n*a,t):null},adjoint:function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},determinant:function(t){return t[0]*t[3]-t[2]*t[1]},multiply:function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=n[0],c=n[1],u=n[2],l=n[3];return t[0]=i*s+o*c,t[1]=r*s+a*c,t[2]=i*u+o*l,t[3]=r*u+a*l,t}};u.mul=u.multiply,u.rotate=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(n),c=Math.cos(n);return t[0]=i*c+o*s,t[1]=r*c+a*s,t[2]=i*-s+o*c,t[3]=r*-s+a*c,t},u.scale=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=n[0],c=n[1];return t[0]=i*s,t[1]=r*s,t[2]=o*c,t[3]=a*c,t},u.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},u.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},u.LDU=function(t,e,n,i){return t[2]=i[2]/i[0],n[0]=i[0],n[1]=i[1],n[3]=i[3]-t[2]*n[1],[t,e,n]},"undefined"!==typeof t&&(t.mat2=u);var l={create:function(){var t=new n(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},clone:function(t){var e=new n(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},invert:function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],c=n*o-i*r;return c?(c=1/c,t[0]=o*c,t[1]=-i*c,t[2]=-r*c,t[3]=n*c,t[4]=(r*s-o*a)*c,t[5]=(i*a-n*s)*c,t):null},determinant:function(t){return t[0]*t[3]-t[1]*t[2]},multiply:function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],c=e[5],u=n[0],l=n[1],h=n[2],d=n[3],p=n[4],f=n[5];return t[0]=i*u+o*l,t[1]=r*u+a*l,t[2]=i*h+o*d,t[3]=r*h+a*d,t[4]=i*p+o*f+s,t[5]=r*p+a*f+c,t}};l.mul=l.multiply,l.rotate=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],c=e[5],u=Math.sin(n),l=Math.cos(n);return t[0]=i*l+o*u,t[1]=r*l+a*u,t[2]=i*-u+o*l,t[3]=r*-u+a*l,t[4]=s,t[5]=c,t},l.scale=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],c=e[5],u=n[0],l=n[1];return t[0]=i*u,t[1]=r*u,t[2]=o*l,t[3]=a*l,t[4]=s,t[5]=c,t},l.translate=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],c=e[5],u=n[0],l=n[1];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=i*u+o*l+s,t[5]=r*u+a*l+c,t},l.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},l.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},"undefined"!==typeof t&&(t.mat2d=l);var h={create:function(){var t=new n(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromMat4:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},clone:function(t){var e=new n(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},transpose:function(t,e){if(t===e){var n=e[1],i=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=i,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},invert:function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],c=e[6],u=e[7],l=e[8],h=l*a-s*u,d=-l*o+s*c,p=u*o-a*c,f=n*h+i*d+r*p;return f?(f=1/f,t[0]=h*f,t[1]=(-l*i+r*u)*f,t[2]=(s*i-r*a)*f,t[3]=d*f,t[4]=(l*n-r*c)*f,t[5]=(-s*n+r*o)*f,t[6]=p*f,t[7]=(-u*n+i*c)*f,t[8]=(a*n-i*o)*f,t):null},adjoint:function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],c=e[6],u=e[7],l=e[8];return t[0]=a*l-s*u,t[1]=r*u-i*l,t[2]=i*s-r*a,t[3]=s*c-o*l,t[4]=n*l-r*c,t[5]=r*o-n*s,t[6]=o*u-a*c,t[7]=i*c-n*u,t[8]=n*a-i*o,t},determinant:function(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],s=t[6],c=t[7],u=t[8];return e*(u*o-a*c)+n*(-u*r+a*s)+i*(c*r-o*s)},multiply:function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],c=e[5],u=e[6],l=e[7],h=e[8],d=n[0],p=n[1],f=n[2],m=n[3],g=n[4],v=n[5],w=n[6],A=n[7],M=n[8];return t[0]=d*i+p*a+f*u,t[1]=d*r+p*s+f*l,t[2]=d*o+p*c+f*h,t[3]=m*i+g*a+v*u,t[4]=m*r+g*s+v*l,t[5]=m*o+g*c+v*h,t[6]=w*i+A*a+M*u,t[7]=w*r+A*s+M*l,t[8]=w*o+A*c+M*h,t}};h.mul=h.multiply,h.translate=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],c=e[5],u=e[6],l=e[7],h=e[8],d=n[0],p=n[1];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=c,t[6]=d*i+p*a+u,t[7]=d*r+p*s+l,t[8]=d*o+p*c+h,t},h.rotate=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],c=e[5],u=e[6],l=e[7],h=e[8],d=Math.sin(n),p=Math.cos(n);return t[0]=p*i+d*a,t[1]=p*r+d*s,t[2]=p*o+d*c,t[3]=p*a-d*i,t[4]=p*s-d*r,t[5]=p*c-d*o,t[6]=u,t[7]=l,t[8]=h,t},h.scale=function(t,e,n){var i=n[0],r=n[1];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},h.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},h.fromQuat=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n+n,s=i+i,c=r+r,u=n*a,l=i*a,h=i*s,d=r*a,p=r*s,f=r*c,m=o*a,g=o*s,v=o*c;return t[0]=1-h-f,t[3]=l-v,t[6]=d+g,t[1]=l+v,t[4]=1-u-f,t[7]=p-m,t[2]=d-g,t[5]=p+m,t[8]=1-u-h,t},h.normalFromMat4=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],c=e[6],u=e[7],l=e[8],h=e[9],d=e[10],p=e[11],f=e[12],m=e[13],g=e[14],v=e[15],w=n*s-i*a,A=n*c-r*a,M=n*u-o*a,y=i*c-r*s,b=i*u-o*s,C=r*u-o*c,L=l*m-h*f,x=l*g-d*f,I=l*v-p*f,E=h*g-d*m,S=h*v-p*m,j=d*v-p*g,D=w*j-A*S+M*E+y*I-b*x+C*L;return D?(D=1/D,t[0]=(s*j-c*S+u*E)*D,t[1]=(c*I-a*j-u*x)*D,t[2]=(a*S-s*I+u*L)*D,t[3]=(r*S-i*j-o*E)*D,t[4]=(n*j-r*I+o*x)*D,t[5]=(i*I-n*S-o*L)*D,t[6]=(m*C-g*b+v*y)*D,t[7]=(g*M-f*C-v*A)*D,t[8]=(f*b-m*M+v*w)*D,t):null},h.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},h.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},"undefined"!==typeof t&&(t.mat3=h);var d={create:function(){var t=new n(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},clone:function(t){var e=new n(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},transpose:function(t,e){if(t===e){var n=e[1],i=e[2],r=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=i,t[9]=o,t[11]=e[14],t[12]=r,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},invert:function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],c=e[6],u=e[7],l=e[8],h=e[9],d=e[10],p=e[11],f=e[12],m=e[13],g=e[14],v=e[15],w=n*s-i*a,A=n*c-r*a,M=n*u-o*a,y=i*c-r*s,b=i*u-o*s,C=r*u-o*c,L=l*m-h*f,x=l*g-d*f,I=l*v-p*f,E=h*g-d*m,S=h*v-p*m,j=d*v-p*g,D=w*j-A*S+M*E+y*I-b*x+C*L;return D?(D=1/D,t[0]=(s*j-c*S+u*E)*D,t[1]=(r*S-i*j-o*E)*D,t[2]=(m*C-g*b+v*y)*D,t[3]=(d*b-h*C-p*y)*D,t[4]=(c*I-a*j-u*x)*D,t[5]=(n*j-r*I+o*x)*D,t[6]=(g*M-f*C-v*A)*D,t[7]=(l*C-d*M+p*A)*D,t[8]=(a*S-s*I+u*L)*D,t[9]=(i*I-n*S-o*L)*D,t[10]=(f*b-m*M+v*w)*D,t[11]=(h*M-l*b-p*w)*D,t[12]=(s*x-a*E-c*L)*D,t[13]=(n*E-i*x+r*L)*D,t[14]=(m*A-f*y-g*w)*D,t[15]=(l*y-h*A+d*w)*D,t):null},adjoint:function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],c=e[6],u=e[7],l=e[8],h=e[9],d=e[10],p=e[11],f=e[12],m=e[13],g=e[14],v=e[15];return t[0]=s*(d*v-p*g)-h*(c*v-u*g)+m*(c*p-u*d),t[1]=-(i*(d*v-p*g)-h*(r*v-o*g)+m*(r*p-o*d)),t[2]=i*(c*v-u*g)-s*(r*v-o*g)+m*(r*u-o*c),t[3]=-(i*(c*p-u*d)-s*(r*p-o*d)+h*(r*u-o*c)),t[4]=-(a*(d*v-p*g)-l*(c*v-u*g)+f*(c*p-u*d)),t[5]=n*(d*v-p*g)-l*(r*v-o*g)+f*(r*p-o*d),t[6]=-(n*(c*v-u*g)-a*(r*v-o*g)+f*(r*u-o*c)),t[7]=n*(c*p-u*d)-a*(r*p-o*d)+l*(r*u-o*c),t[8]=a*(h*v-p*m)-l*(s*v-u*m)+f*(s*p-u*h),t[9]=-(n*(h*v-p*m)-l*(i*v-o*m)+f*(i*p-o*h)),t[10]=n*(s*v-u*m)-a*(i*v-o*m)+f*(i*u-o*s),t[11]=-(n*(s*p-u*h)-a*(i*p-o*h)+l*(i*u-o*s)),t[12]=-(a*(h*g-d*m)-l*(s*g-c*m)+f*(s*d-c*h)),t[13]=n*(h*g-d*m)-l*(i*g-r*m)+f*(i*d-r*h),t[14]=-(n*(s*g-c*m)-a*(i*g-r*m)+f*(i*c-r*s)),t[15]=n*(s*d-c*h)-a*(i*d-r*h)+l*(i*c-r*s),t},determinant:function(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],s=t[6],c=t[7],u=t[8],l=t[9],h=t[10],d=t[11],p=t[12],f=t[13],m=t[14],g=t[15],v=e*a-n*o,w=e*s-i*o,A=e*c-r*o,M=n*s-i*a,y=n*c-r*a,b=i*c-r*s,C=u*f-l*p,L=u*m-h*p,x=u*g-d*p,I=l*m-h*f,E=l*g-d*f,S=h*g-d*m;return v*S-w*E+A*I+M*x-y*L+b*C},multiply:function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],c=e[5],u=e[6],l=e[7],h=e[8],d=e[9],p=e[10],f=e[11],m=e[12],g=e[13],v=e[14],w=e[15],A=n[0],M=n[1],y=n[2],b=n[3];return t[0]=A*i+M*s+y*h+b*m,t[1]=A*r+M*c+y*d+b*g,t[2]=A*o+M*u+y*p+b*v,t[3]=A*a+M*l+y*f+b*w,A=n[4],M=n[5],y=n[6],b=n[7],t[4]=A*i+M*s+y*h+b*m,t[5]=A*r+M*c+y*d+b*g,t[6]=A*o+M*u+y*p+b*v,t[7]=A*a+M*l+y*f+b*w,A=n[8],M=n[9],y=n[10],b=n[11],t[8]=A*i+M*s+y*h+b*m,t[9]=A*r+M*c+y*d+b*g,t[10]=A*o+M*u+y*p+b*v,t[11]=A*a+M*l+y*f+b*w,A=n[12],M=n[13],y=n[14],b=n[15],t[12]=A*i+M*s+y*h+b*m,t[13]=A*r+M*c+y*d+b*g,t[14]=A*o+M*u+y*p+b*v,t[15]=A*a+M*l+y*f+b*w,t}};d.mul=d.multiply,d.translate=function(t,e,n){var i,r,o,a,s,c,u,l,h,d,p,f,m=n[0],g=n[1],v=n[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*v+e[12],t[13]=e[1]*m+e[5]*g+e[9]*v+e[13],t[14]=e[2]*m+e[6]*g+e[10]*v+e[14],t[15]=e[3]*m+e[7]*g+e[11]*v+e[15]):(i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],c=e[5],u=e[6],l=e[7],h=e[8],d=e[9],p=e[10],f=e[11],t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=c,t[6]=u,t[7]=l,t[8]=h,t[9]=d,t[10]=p,t[11]=f,t[12]=i*m+s*g+h*v+e[12],t[13]=r*m+c*g+d*v+e[13],t[14]=o*m+u*g+p*v+e[14],t[15]=a*m+l*g+f*v+e[15]),t},d.scale=function(t,e,n){var i=n[0],r=n[1],o=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},d.rotate=function(t,n,i,r){var o,a,s,c,u,l,h,d,p,f,m,g,v,w,A,M,y,b,C,L,x,I,E,S,j=r[0],D=r[1],P=r[2],k=Math.sqrt(j*j+D*D+P*P);return Math.abs(k)<e?null:(k=1/k,j*=k,D*=k,P*=k,o=Math.sin(i),a=Math.cos(i),s=1-a,c=n[0],u=n[1],l=n[2],h=n[3],d=n[4],p=n[5],f=n[6],m=n[7],g=n[8],v=n[9],w=n[10],A=n[11],M=j*j*s+a,y=D*j*s+P*o,b=P*j*s-D*o,C=j*D*s-P*o,L=D*D*s+a,x=P*D*s+j*o,I=j*P*s+D*o,E=D*P*s-j*o,S=P*P*s+a,t[0]=c*M+d*y+g*b,t[1]=u*M+p*y+v*b,t[2]=l*M+f*y+w*b,t[3]=h*M+m*y+A*b,t[4]=c*C+d*L+g*x,t[5]=u*C+p*L+v*x,t[6]=l*C+f*L+w*x,t[7]=h*C+m*L+A*x,t[8]=c*I+d*E+g*S,t[9]=u*I+p*E+v*S,t[10]=l*I+f*E+w*S,t[11]=h*I+m*E+A*S,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)},d.rotateX=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[4],a=e[5],s=e[6],c=e[7],u=e[8],l=e[9],h=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*r+u*i,t[5]=a*r+l*i,t[6]=s*r+h*i,t[7]=c*r+d*i,t[8]=u*r-o*i,t[9]=l*r-a*i,t[10]=h*r-s*i,t[11]=d*r-c*i,t},d.rotateY=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[0],a=e[1],s=e[2],c=e[3],u=e[8],l=e[9],h=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r-u*i,t[1]=a*r-l*i,t[2]=s*r-h*i,t[3]=c*r-d*i,t[8]=o*i+u*r,t[9]=a*i+l*r,t[10]=s*i+h*r,t[11]=c*i+d*r,t},d.rotateZ=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[0],a=e[1],s=e[2],c=e[3],u=e[4],l=e[5],h=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r+u*i,t[1]=a*r+l*i,t[2]=s*r+h*i,t[3]=c*r+d*i,t[4]=u*r-o*i,t[5]=l*r-a*i,t[6]=h*r-s*i,t[7]=d*r-c*i,t},d.fromRotationTranslation=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=i+i,c=r+r,u=o+o,l=i*s,h=i*c,d=i*u,p=r*c,f=r*u,m=o*u,g=a*s,v=a*c,w=a*u;return t[0]=1-(p+m),t[1]=h+w,t[2]=d-v,t[3]=0,t[4]=h-w,t[5]=1-(l+m),t[6]=f+g,t[7]=0,t[8]=d+v,t[9]=f-g,t[10]=1-(l+p),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},d.fromQuat=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n+n,s=i+i,c=r+r,u=n*a,l=i*a,h=i*s,d=r*a,p=r*s,f=r*c,m=o*a,g=o*s,v=o*c;return t[0]=1-h-f,t[1]=l+v,t[2]=d-g,t[3]=0,t[4]=l-v,t[5]=1-u-f,t[6]=p+m,t[7]=0,t[8]=d+g,t[9]=p-m,t[10]=1-u-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},d.frustum=function(t,e,n,i,r,o,a){var s=1/(n-e),c=1/(r-i),u=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*c,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(r+i)*c,t[10]=(a+o)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*u,t[15]=0,t},d.perspective=function(t,e,n,i,r){var o=1/Math.tan(e/2),a=1/(i-r);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+i)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*i*a,t[15]=0,t},d.ortho=function(t,e,n,i,r,o,a){var s=1/(e-n),c=1/(i-r),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(r+i)*c,t[14]=(a+o)*u,t[15]=1,t},d.lookAt=function(t,n,i,r){var o,a,s,c,u,l,h,p,f,m,g=n[0],v=n[1],w=n[2],A=r[0],M=r[1],y=r[2],b=i[0],C=i[1],L=i[2];return Math.abs(g-b)<e&&Math.abs(v-C)<e&&Math.abs(w-L)<e?d.identity(t):(h=g-b,p=v-C,f=w-L,m=1/Math.sqrt(h*h+p*p+f*f),h*=m,p*=m,f*=m,o=M*f-y*p,a=y*h-A*f,s=A*p-M*h,m=Math.sqrt(o*o+a*a+s*s),m?(m=1/m,o*=m,a*=m,s*=m):(o=0,a=0,s=0),c=p*s-f*a,u=f*o-h*s,l=h*a-p*o,m=Math.sqrt(c*c+u*u+l*l),m?(m=1/m,c*=m,u*=m,l*=m):(c=0,u=0,l=0),t[0]=o,t[1]=c,t[2]=h,t[3]=0,t[4]=a,t[5]=u,t[6]=p,t[7]=0,t[8]=s,t[9]=l,t[10]=f,t[11]=0,t[12]=-(o*g+a*v+s*w),t[13]=-(c*g+u*v+l*w),t[14]=-(h*g+p*v+f*w),t[15]=1,t)},d.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},d.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},"undefined"!==typeof t&&(t.mat4=d);var p={create:function(){var t=new n(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}};p.rotationTo=function(){var t=s.create(),e=s.fromValues(1,0,0),n=s.fromValues(0,1,0);return function(i,r,o){var a=s.dot(r,o);return a<-.999999?(s.cross(t,e,r),s.length(t)<1e-6&&s.cross(t,n,r),s.normalize(t,t),p.setAxisAngle(i,t,Math.PI),i):a>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(s.cross(t,r,o),i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=1+a,p.normalize(i,i))}}(),p.setAxes=function(){var t=h.create();return function(e,n,i,r){return t[0]=i[0],t[3]=i[1],t[6]=i[2],t[1]=r[0],t[4]=r[1],t[7]=r[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],p.normalize(e,p.fromMat3(e,t))}}(),p.clone=c.clone,p.fromValues=c.fromValues,p.copy=c.copy,p.set=c.set,p.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},p.setAxisAngle=function(t,e,n){n*=.5;var i=Math.sin(n);return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=Math.cos(n),t},p.add=c.add,p.multiply=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=n[0],c=n[1],u=n[2],l=n[3];return t[0]=i*l+a*s+r*u-o*c,t[1]=r*l+a*c+o*s-i*u,t[2]=o*l+a*u+i*c-r*s,t[3]=a*l-i*s-r*c-o*u,t},p.mul=p.multiply,p.scale=c.scale,p.rotateX=function(t,e,n){n*=.5;var i=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(n),c=Math.cos(n);return t[0]=i*c+a*s,t[1]=r*c+o*s,t[2]=o*c-r*s,t[3]=a*c-i*s,t},p.rotateY=function(t,e,n){n*=.5;var i=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(n),c=Math.cos(n);return t[0]=i*c-o*s,t[1]=r*c+a*s,t[2]=o*c+i*s,t[3]=a*c-r*s,t},p.rotateZ=function(t,e,n){n*=.5;var i=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(n),c=Math.cos(n);return t[0]=i*c+r*s,t[1]=r*c-i*s,t[2]=o*c+a*s,t[3]=a*c-o*s,t},p.calculateW=function(t,e){var n=e[0],i=e[1],r=e[2];return t[0]=n,t[1]=i,t[2]=r,t[3]=-Math.sqrt(Math.abs(1-n*n-i*i-r*r)),t},p.dot=c.dot,p.lerp=c.lerp,p.slerp=function(t,e,n,i){var r,o,a,s,c,u=e[0],l=e[1],h=e[2],d=e[3],p=n[0],f=n[1],m=n[2],g=n[3];return o=u*p+l*f+h*m+d*g,o<0&&(o=-o,p=-p,f=-f,m=-m,g=-g),1-o>1e-6?(r=Math.acos(o),a=Math.sin(r),s=Math.sin((1-i)*r)/a,c=Math.sin(i*r)/a):(s=1-i,c=i),t[0]=s*u+c*p,t[1]=s*l+c*f,t[2]=s*h+c*m,t[3]=s*d+c*g,t},p.invert=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n*n+i*i+r*r+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-i*s,t[2]=-r*s,t[3]=o*s,t},p.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},p.length=c.length,p.len=p.length,p.squaredLength=c.squaredLength,p.sqrLen=p.squaredLength,p.normalize=c.normalize,p.fromMat3=function(t,e){var n,i=e[0]+e[4]+e[8];if(i>0)n=Math.sqrt(i+1),t[3]=.5*n,n=.5/n,t[0]=(e[7]-e[5])*n,t[1]=(e[2]-e[6])*n,t[2]=(e[3]-e[1])*n;else{var r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);var o=(r+1)%3,a=(r+2)%3;n=Math.sqrt(e[3*r+r]-e[3*o+o]-e[3*a+a]+1),t[r]=.5*n,n=.5/n,t[3]=(e[3*a+o]-e[3*o+a])*n,t[o]=(e[3*o+r]+e[3*r+o])*n,t[a]=(e[3*a+r]+e[3*r+a])*n}return t},p.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},"undefined"!==typeof t&&(t.quat=p)}(o.exports)})()},{}],24:[function(t,e,n){(function(){var t=this,i=t._,r={},o=Array.prototype,a=Object.prototype,s=Function.prototype,c=o.push,u=o.slice,l=o.concat,h=a.toString,d=a.hasOwnProperty,p=o.forEach,f=o.map,m=o.reduce,g=o.reduceRight,v=o.filter,w=o.every,A=o.some,M=o.indexOf,y=o.lastIndexOf,b=Array.isArray,C=Object.keys,L=s.bind,x=function(t){return t instanceof x?t:this instanceof x?void(this._wrapped=t):new x(t)};"undefined"!==typeof n?("undefined"!==typeof e&&e.exports&&(n=e.exports=x),n._=x):t._=x,x.VERSION="1.4.4";var I=x.each=x.forEach=function(t,e,n){if(null!=t)if(p&&t.forEach===p)t.forEach(e,n);else if(t.length===+t.length){for(var i=0,o=t.length;i<o;i++)if(e.call(n,t[i],i,t)===r)return}else for(var a in t)if(x.has(t,a)&&e.call(n,t[a],a,t)===r)return};x.map=x.collect=function(t,e,n){var i=[];return null==t?i:f&&t.map===f?t.map(e,n):(I(t,(function(t,r,o){i[i.length]=e.call(n,t,r,o)})),i)};var E="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),m&&t.reduce===m)return i&&(e=x.bind(e,i)),r?t.reduce(e,n):t.reduce(e);if(I(t,(function(t,o,a){r?n=e.call(i,n,t,o,a):(n=t,r=!0)})),!r)throw new TypeError(E);return n},x.reduceRight=x.foldr=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),g&&t.reduceRight===g)return i&&(e=x.bind(e,i)),r?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var a=x.keys(t);o=a.length}if(I(t,(function(s,c,u){c=a?a[--o]:--o,r?n=e.call(i,n,t[c],c,u):(n=t[c],r=!0)})),!r)throw new TypeError(E);return n},x.find=x.detect=function(t,e,n){var i;return S(t,(function(t,r,o){if(e.call(n,t,r,o))return i=t,!0})),i},x.filter=x.select=function(t,e,n){var i=[];return null==t?i:v&&t.filter===v?t.filter(e,n):(I(t,(function(t,r,o){e.call(n,t,r,o)&&(i[i.length]=t)})),i)},x.reject=function(t,e,n){return x.filter(t,(function(t,i,r){return!e.call(n,t,i,r)}),n)},x.every=x.all=function(t,e,n){e||(e=x.identity);var i=!0;return null==t?i:w&&t.every===w?t.every(e,n):(I(t,(function(t,o,a){if(!(i=i&&e.call(n,t,o,a)))return r})),!!i)};var S=x.some=x.any=function(t,e,n){e||(e=x.identity);var i=!1;return null==t?i:A&&t.some===A?t.some(e,n):(I(t,(function(t,o,a){if(i||(i=e.call(n,t,o,a)))return r})),!!i)};x.contains=x.include=function(t,e){return null!=t&&(M&&t.indexOf===M?-1!=t.indexOf(e):S(t,(function(t){return t===e})))},x.invoke=function(t,e){var n=u.call(arguments,2),i=x.isFunction(e);return x.map(t,(function(t){return(i?e:t[e]).apply(t,n)}))},x.pluck=function(t,e){return x.map(t,(function(t){return t[e]}))},x.where=function(t,e,n){return x.isEmpty(e)?n?null:[]:x[n?"find":"filter"](t,(function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0}))},x.findWhere=function(t,e){return x.where(t,e,!0)},x.max=function(t,e,n){if(!e&&x.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&x.isEmpty(t))return-1/0;var i={computed:-1/0,value:-1/0};return I(t,(function(t,r,o){var a=e?e.call(n,t,r,o):t;a>=i.computed&&(i={value:t,computed:a})})),i.value},x.min=function(t,e,n){if(!e&&x.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&x.isEmpty(t))return 1/0;var i={computed:1/0,value:1/0};return I(t,(function(t,r,o){var a=e?e.call(n,t,r,o):t;a<i.computed&&(i={value:t,computed:a})})),i.value},x.shuffle=function(t){var e,n=0,i=[];return I(t,(function(t){e=x.random(n++),i[n-1]=i[e],i[e]=t})),i};var j=function(t){return x.isFunction(t)?t:function(e){return e[t]}};x.sortBy=function(t,e,n){var i=j(e);return x.pluck(x.map(t,(function(t,e,r){return{value:t,index:e,criteria:i.call(n,t,e,r)}})).sort((function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index<e.index?-1:1})),"value")};var D=function(t,e,n,i){var r={},o=j(e||x.identity);return I(t,(function(e,a){var s=o.call(n,e,a,t);i(r,s,e)})),r};x.groupBy=function(t,e,n){return D(t,e,n,(function(t,e,n){(x.has(t,e)?t[e]:t[e]=[]).push(n)}))},x.countBy=function(t,e,n){return D(t,e,n,(function(t,e){x.has(t,e)||(t[e]=0),t[e]++}))},x.sortedIndex=function(t,e,n,i){n=null==n?x.identity:j(n);var r=n.call(i,e),o=0,a=t.length;while(o<a){var s=o+a>>>1;n.call(i,t[s])<r?o=s+1:a=s}return o},x.toArray=function(t){return t?x.isArray(t)?u.call(t):t.length===+t.length?x.map(t,x.identity):x.values(t):[]},x.size=function(t){return null==t?0:t.length===+t.length?t.length:x.keys(t).length},x.first=x.head=x.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:u.call(t,0,e)},x.initial=function(t,e,n){return u.call(t,0,t.length-(null==e||n?1:e))},x.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:u.call(t,Math.max(t.length-e,0))},x.rest=x.tail=x.drop=function(t,e,n){return u.call(t,null==e||n?1:e)},x.compact=function(t){return x.filter(t,x.identity)};var P=function(t,e,n){return I(t,(function(t){x.isArray(t)?e?c.apply(n,t):P(t,e,n):n.push(t)})),n};x.flatten=function(t,e){return P(t,e,[])},x.without=function(t){return x.difference(t,u.call(arguments,1))},x.uniq=x.unique=function(t,e,n,i){x.isFunction(e)&&(i=n,n=e,e=!1);var r=n?x.map(t,n,i):t,o=[],a=[];return I(r,(function(n,i){(e?i&&a[a.length-1]===n:x.contains(a,n))||(a.push(n),o.push(t[i]))})),o},x.union=function(){return x.uniq(l.apply(o,arguments))},x.intersection=function(t){var e=u.call(arguments,1);return x.filter(x.uniq(t),(function(t){return x.every(e,(function(e){return x.indexOf(e,t)>=0}))}))},x.difference=function(t){var e=l.apply(o,u.call(arguments,1));return x.filter(t,(function(t){return!x.contains(e,t)}))},x.zip=function(){for(var t=u.call(arguments),e=x.max(x.pluck(t,"length")),n=new Array(e),i=0;i<e;i++)n[i]=x.pluck(t,""+i);return n},x.object=function(t,e){if(null==t)return{};for(var n={},i=0,r=t.length;i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},x.indexOf=function(t,e,n){if(null==t)return-1;var i=0,r=t.length;if(n){if("number"!=typeof n)return i=x.sortedIndex(t,e),t[i]===e?i:-1;i=n<0?Math.max(0,r+n):n}if(M&&t.indexOf===M)return t.indexOf(e,n);for(;i<r;i++)if(t[i]===e)return i;return-1},x.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=null!=n;if(y&&t.lastIndexOf===y)return i?t.lastIndexOf(e,n):t.lastIndexOf(e);var r=i?n:t.length;while(r--)if(t[r]===e)return r;return-1},x.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;var i=Math.max(Math.ceil((e-t)/n),0),r=0,o=new Array(i);while(r<i)o[r++]=t,t+=n;return o},x.bind=function(t,e){if(t.bind===L&&L)return L.apply(t,u.call(arguments,1));var n=u.call(arguments,2);return function(){return t.apply(e,n.concat(u.call(arguments)))}},x.partial=function(t){var e=u.call(arguments,1);return function(){return t.apply(this,e.concat(u.call(arguments)))}},x.bindAll=function(t){var e=u.call(arguments,1);return 0===e.length&&(e=x.functions(t)),I(e,(function(e){t[e]=x.bind(t[e],t)})),t},x.memoize=function(t,e){var n={};return e||(e=x.identity),function(){var i=e.apply(this,arguments);return x.has(n,i)?n[i]:n[i]=t.apply(this,arguments)}},x.delay=function(t,e){var n=u.call(arguments,2);return setTimeout((function(){return t.apply(null,n)}),e)},x.defer=function(t){return x.delay.apply(x,[t,1].concat(u.call(arguments,1)))},x.throttle=function(t,e){var n,i,r,o,a=0,s=function(){a=new Date,r=null,o=t.apply(n,i)};return function(){var c=new Date,u=e-(c-a);return n=this,i=arguments,u<=0?(clearTimeout(r),r=null,a=c,o=t.apply(n,i)):r||(r=setTimeout(s,u)),o}},x.debounce=function(t,e,n){var i,r;return function(){var o=this,a=arguments,s=function(){i=null,n||(r=t.apply(o,a))},c=n&&!i;return clearTimeout(i),i=setTimeout(s,e),c&&(r=t.apply(o,a)),r}},x.once=function(t){var e,n=!1;return function(){return n||(n=!0,e=t.apply(this,arguments),t=null),e}},x.wrap=function(t,e){return function(){var n=[t];return c.apply(n,arguments),e.apply(this,n)}},x.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},x.after=function(t,e){return t<=0?e():function(){if(--t<1)return e.apply(this,arguments)}},x.keys=C||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)x.has(t,n)&&(e[e.length]=n);return e},x.values=function(t){var e=[];for(var n in t)x.has(t,n)&&e.push(t[n]);return e},x.pairs=function(t){var e=[];for(var n in t)x.has(t,n)&&e.push([n,t[n]]);return e},x.invert=function(t){var e={};for(var n in t)x.has(t,n)&&(e[t[n]]=n);return e},x.functions=x.methods=function(t){var e=[];for(var n in t)x.isFunction(t[n])&&e.push(n);return e.sort()},x.extend=function(t){return I(u.call(arguments,1),(function(e){if(e)for(var n in e)t[n]=e[n]})),t},x.pick=function(t){var e={},n=l.apply(o,u.call(arguments,1));return I(n,(function(n){n in t&&(e[n]=t[n])})),e},x.omit=function(t){var e={},n=l.apply(o,u.call(arguments,1));for(var i in t)x.contains(n,i)||(e[i]=t[i]);return e},x.defaults=function(t){return I(u.call(arguments,1),(function(e){if(e)for(var n in e)null==t[n]&&(t[n]=e[n])})),t},x.clone=function(t){return x.isObject(t)?x.isArray(t)?t.slice():x.extend({},t):t},x.tap=function(t,e){return e(t),t};var k=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof x&&(t=t._wrapped),e instanceof x&&(e=e._wrapped);var r=h.call(t);if(r!=h.call(e))return!1;switch(r){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;var o=n.length;while(o--)if(n[o]==t)return i[o]==e;n.push(t),i.push(e);var a=0,s=!0;if("[object Array]"==r){if(a=t.length,s=a==e.length,s)while(a--)if(!(s=k(t[a],e[a],n,i)))break}else{var c=t.constructor,u=e.constructor;if(c!==u&&!(x.isFunction(c)&&c instanceof c&&x.isFunction(u)&&u instanceof u))return!1;for(var l in t)if(x.has(t,l)&&(a++,!(s=x.has(e,l)&&k(t[l],e[l],n,i))))break;if(s){for(l in e)if(x.has(e,l)&&!a--)break;s=!a}}return n.pop(),i.pop(),s};x.isEqual=function(t,e){return k(t,e,[],[])},x.isEmpty=function(t){if(null==t)return!0;if(x.isArray(t)||x.isString(t))return 0===t.length;for(var e in t)if(x.has(t,e))return!1;return!0},x.isElement=function(t){return!(!t||1!==t.nodeType)},x.isArray=b||function(t){return"[object Array]"==h.call(t)},x.isObject=function(t){return t===Object(t)},I(["Arguments","Function","String","Number","Date","RegExp"],(function(t){x["is"+t]=function(e){return h.call(e)=="[object "+t+"]"}})),x.isArguments(arguments)||(x.isArguments=function(t){return!(!t||!x.has(t,"callee"))}),x.isFunction=function(t){return"function"===typeof t},x.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},x.isNaN=function(t){return x.isNumber(t)&&t!=+t},x.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"==h.call(t)},x.isNull=function(t){return null===t},x.isUndefined=function(t){return void 0===t},x.has=function(t,e){return d.call(t,e)},x.noConflict=function(){return t._=i,this},x.identity=function(t){return t},x.times=function(t,e,n){for(var i=Array(t),r=0;r<t;r++)i[r]=e.call(n,r);return i},x.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var T={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};T.unescape=x.invert(T.escape);var z={escape:new RegExp("["+x.keys(T.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(T.unescape).join("|")+")","g")};x.each(["escape","unescape"],(function(t){x[t]=function(e){return null==e?"":(""+e).replace(z[t],(function(e){return T[t][e]}))}})),x.result=function(t,e){if(null==t)return null;var n=t[e];return x.isFunction(n)?n.call(t):n},x.mixin=function(t){I(x.functions(t),(function(e){var n=x[e]=t[e];x.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),O.call(this,n.apply(x,t))}}))};var B=0;x.uniqueId=function(t){var e=++B+"";return t?t+e:e},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},Q=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(t,e,n){var i;n=x.defaults({},n,x.templateSettings);var r=new RegExp([(n.escape||N).source,(n.interpolate||N).source,(n.evaluate||N).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(r,(function(e,n,i,r,s){return a+=t.slice(o,s).replace(Q,(function(t){return"\\"+F[t]})),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(a+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(a+="';\n"+r+"\n__p+='"),o=s+e.length,e})),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(n.variable||"obj","_",a)}catch(c){throw c.source=a,c}if(e)return i(e,x);var s=function(t){return i.call(this,t,x)};return s.source="function("+(n.variable||"obj")+"){\n"+a+"}",s},x.chain=function(t){return x(t).chain()};var O=function(t){return this._chain?x(t).chain():t};x.mixin(x),I(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=o[t];x.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],O.call(this,n)}})),I(["concat","join","slice"],(function(t){var e=o[t];x.prototype[t]=function(){return O.call(this,e.apply(this._wrapped,arguments))}})),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},{}],25:[function(t,e,n){"undefined"!==typeof window&&"function"!==typeof window.requestAnimationFrame&&(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)}),Leap=t("../lib/index")},{"../lib/index":11}]},{},[25])},"89d3":function(t,e,n){"use strict";n("e87e")},"9a67":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAzNC42IDM0LjYiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM0LjYgMzQuNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxwYXRoIGQ9Ik0zNC4xLDIyLjhjLTAuMS0wLjktMC45LTEuNC0xLjYtMC44Yy0wLjUsMC40LTEsMC45LTEuMywxLjVjLTMuMyw2LjYtMTAuMSw5LjktMTcuMyw4LjFDNy40LDI5LjksMi44LDIzLjksMywxNy4zCgkJYzAtMC41LDAtMSwwLTEuNWMwLTAuMSwwLTAuMSwwLTAuMmMwLjUtMy45LDIuMy03LjIsNS40LTkuN2M0LjMtMy40LDkuMS00LjIsMTQuMi0yLjRjMy45LDEuMyw2LjcsNCw4LjUsNy43CgkJYzAuMywwLjYsMC44LDEuMSwxLjMsMS41YzAuOCwwLjYsMS43LDAuMSwxLjctMC45YzAtMC42LTAuMS0xLjItMC4zLTEuN2MtMy02LjItOC05LjUtMTQuOS0xMC4xYy0zLjMtMC4zLTYuNSwwLjYtOS40LDIuMgoJCUMzLjIsNS43LTAuNCwxMywwLjcsMjBDMi4zLDI5LjQsMTEsMzUuOCwyMC41LDM0LjRjNS44LTAuOSwxMC4xLTQsMTIuOS05LjJDMzMuOCwyNC41LDM0LjEsMjMuNywzNC4xLDIyLjh6Ii8+Cgk8cGF0aCBkPSJNMTQuOCwxNC4yYzIuMSwwLDQuMiwwLDYuMywwYzAuNCwwLDAuNiwwLjEsMC42LDAuNWMwLDAuNSwwLjQsMC43LDAuOSwwLjdjMC42LDAsMC45LTAuMiwxLjEtMC43YzAuNC0xLjUtMC40LTIuNi0xLjktMi42CgkJYy0wLjcsMC0xLjQsMC0yLDBjLTAuMywwLTAuNCwwLTAuNS0wLjRjLTAuMS0wLjYtMC40LTAuOS0xLTAuOWMtMC43LDAtMS4xLDAuMi0xLjIsMC44Yy0wLjEsMC4zLTAuMywwLjUtMC42LDAuNAoJCWMtMC43LDAtMS40LDAtMi4xLDBjLTEuMywwLTIuMSwwLjYtMi4yLDEuOWMtMC4xLDAuOC0wLjEsMS41LDAsMi4zYzAuMSwxLDAuNywxLjYsMS43LDEuOGMwLjQsMC4xLDAuOSwwLjEsMS4zLDAuMQoJCWMyLDAsMy45LDAsNS45LDBjMC43LDAsMC45LDAuMiwwLjksMWMwLDAuNy0wLjIsMS0wLjksMWMtMi4xLDAtNC4yLDAtNi4zLDBjLTAuMywwLTAuNS0wLjEtMC42LTAuNWMtMC4xLTAuNi0wLjUtMC45LTEtMC44CgkJYy0wLjUsMC0wLjksMC4zLTAuOSwwLjljMCwwLjQsMCwwLjgsMC4xLDEuMmMwLjIsMC44LDAuNiwxLjIsMS40LDEuMmMwLjksMC4xLDEuNywwLjEsMi42LDAuMWMwLjQsMCwwLjcsMC4xLDAuOCwwLjUKCQljMC4yLDAuNSwwLjYsMC43LDEuMywwLjdjMC41LDAsMC45LTAuMiwxLTAuN2MwLjEtMC40LDAuMy0wLjQsMC42LTAuNWMwLjcsMCwxLjQsMCwyLTAuMWMxLjEtMC4xLDEuOC0wLjgsMS45LTJjMC0wLjUsMC0xLDAtMS42CgkJYzAtMS42LTAuOC0yLjQtMi40LTIuNGMtMS4xLDAtMi4xLDAtMy4yLDBjMCwwLDAsMCwwLDBjLTEuMSwwLTIuMiwwLTMuMywwYy0wLjcsMC0wLjktMC4yLTAuOS0xQzEzLjksMTQuNSwxNC4xLDE0LjIsMTQuOCwxNC4yeiIKCQkvPgo8L2c+Cjwvc3ZnPgo="},a8e5:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI1LjIuMywgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDI0IDI0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CiAgICA8cGF0aCBkPSJNMTQsMTIuNkgxLjVjLTAuNCwwLTAuNy0wLjMtMC43LTAuN2MwLTAuNCwwLjMtMC43LDAuNy0wLjdIMTRjMC40LDAsMC43LDAuMywwLjcsMC43QzE0LjcsMTIuMywxNC40LDEyLjYsMTQsMTIuNnoiIC8+CiAgICA8cGF0aCBkPSJNMTAuNiwxNmMtMC4yLDAtMC4zLTAuMS0wLjUtMC4yYy0wLjMtMC4zLTAuMy0wLjcsMC0wLjlsMy0zbC0zLTNjLTAuMy0wLjMtMC4zLTAuNywwLTAuOWMwLjMtMC4zLDAuNy0wLjMsMC45LDBsMy41LDMuNQoJYzAuMywwLjMsMC4zLDAuNywwLDAuOUwxMSwxNS45QzEwLjksMTYsMTAuNywxNiwxMC42LDE2eiIgLz4KICAgIDxwYXRoIGQ9Ik0xMy4yLDIxLjVjLTQsMC03LjQtMi40LTguOS02LjFjLTAuMS0wLjMsMC0wLjcsMC40LTAuOGMwLjMtMC4xLDAuNywwLDAuOCwwLjRjMS4zLDMuMiw0LjMsNS4yLDcuNyw1LjIKCWM0LjUsMCw4LjMtMy43LDguMy04LjNzLTMuNy04LjMtOC4zLTguM2MtMy40LDAtNi40LDIuMS03LjcsNS4yQzUuNCw5LjIsNSw5LjQsNC43LDkuM0M0LjMsOS4xLDQuMiw4LjgsNC4zLDguNAoJYzEuNC0zLjcsNC45LTYuMSw4LjktNi4xYzUuMywwLDkuNiw0LjMsOS42LDkuNlMxOC41LDIxLjUsMTMuMiwyMS41eiIgLz4KPC9zdmc+Cg=="},b63b:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAzNC42IDM0LjYiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM0LjYgMzQuNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLW1pdGVybGltaXQ6MTA7fQoJLnN0MXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9Cjwvc3R5bGU+CjxjaXJjbGUgY2xhc3M9InN0MCIgY3g9IjE3LjQiIGN5PSIxNy40IiByPSIxNi4yIi8+CjxnPgoJPHBhdGggY2xhc3M9InN0MSIgZD0iTTE4LjEsMTkuNkwxNywyMC43Yy0wLjEsMC4xLTAuNCwwLjEtMC41LDBsLTQuMS00LjFjLTAuMS0wLjEtMC4xLTAuNCwwLTAuNWwxLjEtMS4xYzAuMS0wLjEsMC40LTAuMSwwLjUsMAoJCWw0LjEsNC4xQzE4LjMsMTkuMiwxOC4zLDE5LjUsMTguMSwxOS42eiIvPgoJPHBhdGggY2xhc3M9InN0MSIgZD0iTTI3LjcsMTBsLTEsMWMtMC4yLDAuMi0wLjQsMC4yLTAuNiwwbC00LTRjLTAuMi0wLjItMC4yLTAuNCwwLTAuNmwxLTFjMC4yLTAuMiwwLjQtMC4yLDAuNiwwbDQsNAoJCUMyNy45LDkuNiwyNy45LDkuOCwyNy43LDEweiIvPgoJCgkJPHJlY3QgeD0iMTQuNCIgeT0iMTAuOCIgdHJhbnNmb3JtPSJtYXRyaXgoMC43MDcxIC0wLjcwNzEgMC43MDcxIDAuNzA3MSAtMy4zNDE5IDE4LjAwMTcpIiBjbGFzcz0ic3QxIiB3aWR0aD0iMTEuMyIgaGVpZ2h0PSI0LjQiLz4KCTxwb2x5Z29uIGNsYXNzPSJzdDEiIHBvaW50cz0iMjAuNiwxNS42IDIyLjcsMTMuNiAzMi43LDIzLjYgMzEuMiwyNi4zIAkiLz4KPC9nPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMjEsMjkuNEgxMC4xYy0wLjUsMC0wLjktMC40LTAuOS0wLjlWMjdjMC0wLjUsMC40LTAuOSwwLjktMC45SDIxYzAuNSwwLDAuOSwwLjQsMC45LDAuOXYxLjYKCUMyMS45LDI5LjEsMjEuNSwyOS40LDIxLDI5LjR6Ii8+Cjwvc3ZnPgo="},b981:function(t,e,n){"use strict";(function(t){n("5319");var e=n("7fed");(function(){var t,n,i,r,o,a,s,c,u,l,h,d,p,f;f=null,c=function(t,n){var i,r,o,a,s,c,u;return f.scene=new e["Scene"],f.renderer=c=new e["WebGLRenderer"]({alpha:!0}),u=window.innerWidth,a=window.innerHeight,c.setClearColor(0,0),c.setSize(u,a),c.domElement.className="leap-boneHand",t.appendChild(c.domElement),r=new e["DirectionalLight"](16777215,1),r.position.set(0,.5,1),f.scene.add(r),r=new e["DirectionalLight"](16777215,1),r.position.set(.5,-.5,-1),f.scene.add(r),r=new e["DirectionalLight"](16777215,.5),r.position.set(-.5,0,-.2),f.scene.add(r),s=1,o=1e4,n&&(s*=n,o*=n),f.camera=i=new e["PerspectiveCamera"](45,u/a,s,o),i.position.fromArray([0,300,500]),i.lookAt(new e["Vector3"](0,160,0)),f.scene.add(i),window.addEventListener("resize",(function(){return u=window.innerWidth,a=window.innerHeight,i.aspect=u/a,i.updateProjectionMatrix(),c.setSize(u,a),c.render(f.scene,i)}),!1),f.render||(f.render=function(t){return c.render(f.scene,f.camera)}),f.render()},i=null,u=null,r=null,s=null,h=null,a=null,l=null,d=null,n=null,t=function(){function t(){var t,i,o,c,p,m,g,v;for(d=isNaN(f.opacity)?new e["MeshPhongMaterial"]:new e["MeshPhongMaterial"]({transparent:!0,opacity:f.opacity}),a=40*s,l=40*h,this.fingerMeshes=[],o=p=0;p<5;o=++p){for(i=[],t=0===o?3:4,m=0;0<=t?m<t:m>t;0<=t?++m:--m)c=new e["Mesh"](new e["SphereGeometry"](l,32,32),d.clone()),c.material.color.copy(u),f.scene.add(c),i.push(c),c=new e["Mesh"](new e["CylinderGeometry"](a,a,40,32),d.clone()),c.material.color.copy(r),f.scene.add(c),i.push(c);c=new e["Mesh"](new e["SphereGeometry"](l,32,32),d.clone()),c.material.color.copy(u),f.scene.add(c),i.push(c),this.fingerMeshes.push(i)}if(f.arm){for(this.armMesh=new e["Object3D"],this.armBones=[],this.armSpheres=[],o=g=0;g<=3;o=++g)this.armBones.push(new e["Mesh"](new e["CylinderGeometry"](a,a,o<2?1e3:100,32),d.clone())),this.armBones[o].material.color.copy(r),o>1&&this.armBones[o].quaternion.multiply(n),this.armMesh.add(this.armBones[o]);for(this.armSpheres=[],o=v=0;v<=3;o=++v)this.armSpheres.push(new e["Mesh"](new e["SphereGeometry"](l,32,32),d.clone())),this.armSpheres[o].material.color.copy(u),this.armMesh.add(this.armSpheres[o]);f.scene.add(this.armMesh)}}return t.unusedHandMeshes=[],t.get=function(){var e;return 0===t.unusedHandMeshes.length&&(e=t.create()),e=t.unusedHandMeshes.pop(),e.show(),e},t.prototype.replace=function(){return this.hide(),t.unusedHandMeshes.push(this)},t.create=function(){var e;return e=new t,e.setVisibility(!1),t.unusedHandMeshes.push(e),e},t.prototype.scaleTo=function(t){var e,n,i,r,o,a,s,c,u,l,h,d,p;for(i=t.middleFinger.proximal.length/this.fingerMeshes[2][1].geometry.parameters.height,u=d=0;d<5;u=++d){a=t.fingers[u],l=0;while(1){if(l===this.fingerMeshes[u].length-1){h=this.fingerMeshes[u][l],h.scale.set(i,i,i);break}r=a.bones[3-l/2],h=this.fingerMeshes[u][l],h.scale.set(i,i,i),l++,h=this.fingerMeshes[u][l],s=r.length/h.geometry.parameters.height,h.scale.set(i,s,i),l++}}if(f.arm){for(e=t.arm.length/(this.armBones[0].geometry.parameters.height+this.armBones[0].geometry.parameters.radiusTop),n=t.arm.width/(this.armBones[2].geometry.parameters.height+this.armBones[2].geometry.parameters.radiusTop),u=p=0;p<=3;u=++p)this.armBones[u].scale.set(i,u<2?e:n,i),this.armSpheres[u].scale.set(i,i,i);o=t.arm.width/2*.85,c=t.arm.length/2,this.armBones[0].position.setX(o),this.armBones[1].position.setX(-o),this.armBones[2].position.setY(c),this.armBones[3].position.setY(-c),this.armSpheres[0].position.set(-o,c,0),this.armSpheres[1].position.set(o,c,0),this.armSpheres[2].position.set(o,-c,0),this.armSpheres[3].position.set(-o,-c,0)}return this},t.prototype.formTo=function(t){var n,r,o,a,s,c;for(o=c=0;c<5;o=++c){r=t.fingers[o],a=0;while(1){if(a===this.fingerMeshes[o].length-1){s=this.fingerMeshes[o][a],s.position.fromArray(n.prevJoint);break}n=r.bones[3-a/2],s=this.fingerMeshes[o][a],s.position.fromArray(n.nextJoint),++a,s=this.fingerMeshes[o][a],s.position.fromArray(n.center()),s.setRotationFromMatrix((new e["Matrix4"]).fromArray(n.matrix())),s.quaternion.multiply(i),++a}}return this.armMesh&&(this.armMesh.position.fromArray(t.arm.center()),this.armMesh.setRotationFromMatrix((new e["Matrix4"]).fromArray(t.arm.matrix())),this.armMesh.quaternion.multiply(i)),this},t.prototype.setVisibility=function(t){var e,n,i,r,o;for(e=i=0;i<5;e=++i){n=0;while(1)if(this.fingerMeshes[e][n].visible=t,++n,n===this.fingerMeshes[e].length)break}if(f.arm){for(o=[],e=r=0;r<=3;e=++r)this.armBones[e].visible=t,o.push(this.armSpheres[e].visible=t);return o}},t.prototype.show=function(){return this.setVisibility(!0)},t.prototype.hide=function(){return this.setVisibility(!1)},t}(),p=function(e){var n;if(f.scene)return n=e.data("handMesh"),n||(n=t.get().scaleTo(e),e.data("handMesh",n)),n.formTo(e)},o=function(t){var e;return e=t.data("handMesh"),e&&e.replace(),t.data("handMesh",null)},Leap.plugin("boneHand",(function(m){var g;return null==m&&(m={}),f=m,f.boneScale&&(s=f.boneScale),f.jointScale&&(h=f.jointScale),f.boneColor&&(r=f.boneColor),f.jointColor&&(u=f.jointColor),f.HandMesh=t,i=(new e["Quaternion"]).setFromEuler(new e["Euler"](Math.PI/2,0,0)),u=(new e["Color"]).setHex(6138368),r=(new e["Color"]).setHex(16777215),s=1/6,h=.2,a=null,l=null,d=null,n=(new e["Quaternion"]).setFromEuler(new e["Euler"](0,0,Math.PI/2)),this.use("handEntry"),this.use("handHold"),void 0===f.scene&&(console.assert(f.targetEl),this.plugins.transform&&this.plugins.transform.getScale()&&(g=this.plugins.transform.scale.x),c(f.targetEl,g),this.plugins.transform&&this.plugins.transform.vr&&f.camera.position.set(0,0,0)),f.scene&&(t.create(),t.create(),0===Leap.version.major&&Leap.version.minor<7&&Leap.version.dot<4&&console.warn("BoneHand default scene render requires LeapJS > 0.6.3. You're running have "+Leap.version.full),this.on("frameEnd",(function(t){return f.render(t)}))),this.on("handLost",o),{hand:p}}))}).call(void 0),function(){var e;e=function(){var t;return t=[],0===Leap.version.major&&Leap.version.minor<5&&console.warn("The hand entry plugin requires LeapJS 0.5.0 or newer."),this.on("deviceStopped",(function(){for(var e=0,n=t.length;e<n;e++)id=t[e],t.splice(e,1),this.emit("handLost",this.lastConnectionFrame.hand(id)),e--,n--})),{frame:function(e){var n,i,r,o,a;i=e.hands.map((function(t){return t.id}));for(var s=0,c=t.length;s<c;s++)n=t[s],-1==i.indexOf(n)&&(t.splice(s,1),this.emit("handLost",this.frame(1).hand(n)),s--,c--);for(a=[],r=0,o=i.length;r<o;r++)n=i[r],-1===t.indexOf(n)?(t.push(n),a.push(this.emit("handFound",e.hand(n)))):a.push(void 0);return a}}},"undefined"!==typeof Leap&&Leap.Controller?Leap.Controller.plugin("handEntry",e):t.exports.handEntry=e}.call(void 0),function(){var e;e=function(){var t,e;return e={},t=function(t,n,i){var r,o,a,s;if(e[a=t+this.id]||(e[a]=[]),r=e[t+this.id],void 0!==i)return r[n]=i;if("[object String]"==={}.toString.call(n))return r[n];for(o in s=[],n)i=n[o],void 0===i?s.push(delete r[o]):s.push(r[o]=i);return s},{hand:{data:function(e,n){return t.call(this,"h",e,n)},hold:function(t){return t?this.data({holding:t}):this.hold(this.hovering())},holding:function(){return this.data("holding")},release:function(){var t;return t=this.data("holding"),this.data({holding:void 0}),t},hoverFn:function(t){return this.data({getHover:t})},hovering:function(){var t;if(t=this.data("getHover"))return this._hovering||(this._hovering=t.call(this))}},pointable:{data:function(e,n){return t.call(this,"p",e,n)}}}},"undefined"!==typeof Leap&&Leap.Controller?Leap.Controller.plugin("handHold",e):t.exports.handHold=e}.call(void 0),function(e,n){var i={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(t){if(null==t)return"";var e,n,r,o,a,s,c,u="",l=0;t=i.compress(t);while(l<2*t.length)l%2==0?(e=t.charCodeAt(l/2)>>8,n=255&t.charCodeAt(l/2),r=l/2+1<t.length?t.charCodeAt(l/2+1)>>8:NaN):(e=255&t.charCodeAt((l-1)/2),(l+1)/2<t.length?(n=t.charCodeAt((l+1)/2)>>8,r=255&t.charCodeAt((l+1)/2)):n=r=NaN),l+=3,o=e>>2,a=(3&e)<<4|n>>4,s=(15&n)<<2|r>>6,c=63&r,isNaN(n)?s=c=64:isNaN(r)&&(c=64),u=u+i._keyStr.charAt(o)+i._keyStr.charAt(a)+i._keyStr.charAt(s)+i._keyStr.charAt(c);return u},decompressFromBase64:function(t){if(null==t)return"";var e,n,r,o,a,s,c,u,l="",h=0,d=0,p=i._f;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(d<t.length)a=i._keyStr.indexOf(t.charAt(d++)),s=i._keyStr.indexOf(t.charAt(d++)),c=i._keyStr.indexOf(t.charAt(d++)),u=i._keyStr.indexOf(t.charAt(d++)),n=a<<2|s>>4,r=(15&s)<<4|c>>2,o=(3&c)<<6|u,h%2==0?(e=n<<8,64!=c&&(l+=p(e|r)),64!=u&&(e=o<<8)):(l+=p(e|n),64!=c&&(e=r<<8),64!=u&&(l+=p(e|o))),h+=3;return i.decompress(l)},compressToUTF16:function(t){if(null==t)return"";var e,n,r,o="",a=0,s=i._f;for(t=i.compress(t),e=0;e<t.length;e++)switch(n=t.charCodeAt(e),a++){case 0:o+=s(32+(n>>1)),r=(1&n)<<14;break;case 1:o+=s(r+(n>>2)+32),r=(3&n)<<13;break;case 2:o+=s(r+(n>>3)+32),r=(7&n)<<12;break;case 3:o+=s(r+(n>>4)+32),r=(15&n)<<11;break;case 4:o+=s(r+(n>>5)+32),r=(31&n)<<10;break;case 5:o+=s(r+(n>>6)+32),r=(63&n)<<9;break;case 6:o+=s(r+(n>>7)+32),r=(127&n)<<8;break;case 7:o+=s(r+(n>>8)+32),r=(255&n)<<7;break;case 8:o+=s(r+(n>>9)+32),r=(511&n)<<6;break;case 9:o+=s(r+(n>>10)+32),r=(1023&n)<<5;break;case 10:o+=s(r+(n>>11)+32),r=(2047&n)<<4;break;case 11:o+=s(r+(n>>12)+32),r=(4095&n)<<3;break;case 12:o+=s(r+(n>>13)+32),r=(8191&n)<<2;break;case 13:o+=s(r+(n>>14)+32),r=(16383&n)<<1;break;case 14:o+=s(r+(n>>15)+32,32+(32767&n)),a=0;break}return o+s(r+32)},decompressFromUTF16:function(t){if(null==t)return"";var e,n,r="",o=0,a=0,s=i._f;while(a<t.length){switch(n=t.charCodeAt(a)-32,o++){case 0:e=n<<1;break;case 1:r+=s(e|n>>14),e=(16383&n)<<2;break;case 2:r+=s(e|n>>13),e=(8191&n)<<3;break;case 3:r+=s(e|n>>12),e=(4095&n)<<4;break;case 4:r+=s(e|n>>11),e=(2047&n)<<5;break;case 5:r+=s(e|n>>10),e=(1023&n)<<6;break;case 6:r+=s(e|n>>9),e=(511&n)<<7;break;case 7:r+=s(e|n>>8),e=(255&n)<<8;break;case 8:r+=s(e|n>>7),e=(127&n)<<9;break;case 9:r+=s(e|n>>6),e=(63&n)<<10;break;case 10:r+=s(e|n>>5),e=(31&n)<<11;break;case 11:r+=s(e|n>>4),e=(15&n)<<12;break;case 12:r+=s(e|n>>3),e=(7&n)<<13;break;case 13:r+=s(e|n>>2),e=(3&n)<<14;break;case 14:r+=s(e|n>>1),e=(1&n)<<15;break;case 15:r+=s(e|n),o=0;break}a++}return i.decompress(r)},compress:function(t){if(null==t)return"";var e,n,r,o={},a={},s="",c="",u="",l=2,h=3,d=2,p="",f=0,m=0,g=i._f;for(r=0;r<t.length;r+=1)if(s=t.charAt(r),Object.prototype.hasOwnProperty.call(o,s)||(o[s]=h++,a[s]=!0),c=u+s,Object.prototype.hasOwnProperty.call(o,c))u=c;else{if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(e=0;e<d;e++)f<<=1,15==m?(m=0,p+=g(f),f=0):m++;for(n=u.charCodeAt(0),e=0;e<8;e++)f=f<<1|1&n,15==m?(m=0,p+=g(f),f=0):m++,n>>=1}else{for(n=1,e=0;e<d;e++)f=f<<1|n,15==m?(m=0,p+=g(f),f=0):m++,n=0;for(n=u.charCodeAt(0),e=0;e<16;e++)f=f<<1|1&n,15==m?(m=0,p+=g(f),f=0):m++,n>>=1}l--,0==l&&(l=Math.pow(2,d),d++),delete a[u]}else for(n=o[u],e=0;e<d;e++)f=f<<1|1&n,15==m?(m=0,p+=g(f),f=0):m++,n>>=1;l--,0==l&&(l=Math.pow(2,d),d++),o[c]=h++,u=String(s)}if(""!==u){if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(e=0;e<d;e++)f<<=1,15==m?(m=0,p+=g(f),f=0):m++;for(n=u.charCodeAt(0),e=0;e<8;e++)f=f<<1|1&n,15==m?(m=0,p+=g(f),f=0):m++,n>>=1}else{for(n=1,e=0;e<d;e++)f=f<<1|n,15==m?(m=0,p+=g(f),f=0):m++,n=0;for(n=u.charCodeAt(0),e=0;e<16;e++)f=f<<1|1&n,15==m?(m=0,p+=g(f),f=0):m++,n>>=1}l--,0==l&&(l=Math.pow(2,d),d++),delete a[u]}else for(n=o[u],e=0;e<d;e++)f=f<<1|1&n,15==m?(m=0,p+=g(f),f=0):m++,n>>=1;l--,0==l&&(l=Math.pow(2,d),d++)}for(n=2,e=0;e<d;e++)f=f<<1|1&n,15==m?(m=0,p+=g(f),f=0):m++,n>>=1;while(1){if(f<<=1,15==m){p+=g(f);break}m++}return p},decompress:function(t){if(null==t)return"";if(""==t)return null;var e,n,r,o,a,s,c,u=[],l=4,h=4,d=3,p="",f="",m=i._f,g={string:t,val:t.charCodeAt(0),position:32768,index:1};for(e=0;e<3;e+=1)u[e]=e;r=0,a=Math.pow(2,2),s=1;while(s!=a)o=g.val&g.position,g.position>>=1,0==g.position&&(g.position=32768,g.val=g.string.charCodeAt(g.index++)),r|=(o>0?1:0)*s,s<<=1;switch(r){case 0:r=0,a=Math.pow(2,8),s=1;while(s!=a)o=g.val&g.position,g.position>>=1,0==g.position&&(g.position=32768,g.val=g.string.charCodeAt(g.index++)),r|=(o>0?1:0)*s,s<<=1;c=m(r);break;case 1:r=0,a=Math.pow(2,16),s=1;while(s!=a)o=g.val&g.position,g.position>>=1,0==g.position&&(g.position=32768,g.val=g.string.charCodeAt(g.index++)),r|=(o>0?1:0)*s,s<<=1;c=m(r);break;case 2:return""}u[3]=c,n=f=c;while(1){if(g.index>g.string.length)return"";r=0,a=Math.pow(2,d),s=1;while(s!=a)o=g.val&g.position,g.position>>=1,0==g.position&&(g.position=32768,g.val=g.string.charCodeAt(g.index++)),r|=(o>0?1:0)*s,s<<=1;switch(c=r){case 0:r=0,a=Math.pow(2,8),s=1;while(s!=a)o=g.val&g.position,g.position>>=1,0==g.position&&(g.position=32768,g.val=g.string.charCodeAt(g.index++)),r|=(o>0?1:0)*s,s<<=1;u[h++]=m(r),c=h-1,l--;break;case 1:r=0,a=Math.pow(2,16),s=1;while(s!=a)o=g.val&g.position,g.position>>=1,0==g.position&&(g.position=32768,g.val=g.string.charCodeAt(g.index++)),r|=(o>0?1:0)*s,s<<=1;u[h++]=m(r),c=h-1,l--;break;case 2:return f}if(0==l&&(l=Math.pow(2,d),d++),u[c])p=u[c];else{if(c!==h)return null;p=n+n.charAt(0)}f+=p,u[h++]=n+p.charAt(0),l--,n=p,0==l&&(l=Math.pow(2,d),d++)}}};function r(t){this.options=t||(t={}),this.loading=!1,this.timeBetweenLoops=t.timeBetweenLoops||50,this.packingStructure=["id","timestamp",{hands:[["id","type","direction","palmNormal","palmPosition","palmVelocity","stabilizedPalmPosition","pinchStrength","grabStrength","confidence","armBasis","armWidth","elbow","wrist"]]},{pointables:[["id","direction","handId","length","stabilizedTipPosition","tipPosition","tipVelocity","tool","carpPosition","mcpPosition","pipPosition","dipPosition","btipPosition","bases","type"]]},{interactionBox:["center","size"]}],this.setFrames(t.frames||[])}(function(){if("undefined"===typeof e.performance&&(e.performance={}),!e.performance.now){var t=Date.now();performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart),e.performance.now=function(){return Date.now()-t}}})(),r.prototype={setFrames:function(t){this.frameData=t,this.frameIndex=0,this.frameCount=t.length,this.leftCropPosition=0,this.rightCropPosition=this.frameCount,this.setMetaData()},addFrame:function(t){this.frameData.push(t)},currentFrame:function(){return this.frameData[this.frameIndex]},nextFrame:function(){var t=this.frameIndex+1;return t%=this.rightCropPosition||1,t<this.leftCropPosition&&(t=this.leftCropPosition),this.frameData[t]},advanceFrame:function(){return this.frameIndex++,this.frameIndex>=this.rightCropPosition&&!this.options.loop?(this.frameIndex--,!1):(this.frameIndex=this.frameIndex%(this.rightCropPosition||1),this.frameIndex<this.leftCropPosition&&(this.frameIndex=this.leftCropPosition),!0)},readyPlay:function(){this.frameIndex++,this.frameIndex>=this.rightCropPosition?(this.frameIndex=this.frameIndex%(this.rightCropPosition||1),this.frameIndex<this.leftCropPosition&&(this.frameIndex=this.leftCropPosition)):this.frameIndex--},cloneCurrentFrame:function(){return JSON.parse(JSON.stringify(this.currentFrame()))},createLerpFrameData:function(t){for(var e,n,i,r=this.currentFrame(),o=this.nextFrame(),a=["palmPosition","stabilizedPalmPosition","sphereCenter","direction","palmNormal","palmVelocity"],s=["mcpPosition","pipPosition","dipPosition","tipPosition","direction"],c=this.cloneCurrentFrame(),u=c.hands.length,l=c.pointables.length,h=a.length,d=s.length,p=0;p<u;p++){n=c.hands[p];for(var f=0;f<h;f++)e=a[f],r.hands[p][e]&&o.hands[p]&&Leap.vec3.lerp(n[e],r.hands[p][e],o.hands[p][e],t)}for(p=0;p<l;p++)for(i=c.pointables[p],f=0;f<d;f++)e=s[f],r.pointables[p][e]&&o.hands[p]&&Leap.vec3.lerp(i[e],r.pointables[p][e],o.pointables[p][e],0);return c},timeToNextFrame:function(){var t=(this.nextFrame().timestamp-this.currentFrame().timestamp)/1e3;return t<0&&(t=this.timeBetweenLoops),t},blank:function(){return 0===this.frameData.length},leftCrop:function(){this.leftCropPosition=this.frameIndex},rightCrop:function(){this.rightCropPosition=this.frameIndex},cullFrames:function(t){console.log("cull frames",t),t||(t=1);for(var e=0;e<this.frameData.length;e++)this.frameData.splice(e,t);this.setMetaData()},frameRate:function(){return 0==this.frameData.length?0:this.frameData.length/(this.frameData[this.frameData.length-1].timestamp-this.frameData[0].timestamp)*1e6},croppedFrameData:function(){return this.frameData.slice(this.leftCropPosition,this.rightCropPosition)},setMetaData:function(){var t={formatVersion:2,generatedBy:"LeapJS Playback 0.2.0",frames:this.rightCropPosition-this.leftCropPosition,protocolVersion:this.options.requestProtocolVersion,serviceVersion:this.options.serviceVersion,frameRate:this.frameRate().toPrecision(2),modified:(new Date).toString()};for(var e in this.metadata||(this.metadata={}),t)this.metadata[e]=t[e]},packedFrameData:function(){var t,e=this.croppedFrameData(),n=[];n.push(this.packingStructure);for(var i=0,r=e.length;i<r;i++)t=e[i],n.push(this.packArray(this.packingStructure,t));return n},packArray:function(t,e){for(var n,i=[],r=0,o=t.length;r<o;r++)if(n=t[r],"string"===typeof n)i.push(e[n]);else if("[object Array]"==Object.prototype.toString.call(n))for(var a=0,s=e.length;a<s;a++)i.push(this.packArray(n,e[a]));else{for(var c in n)break;i.push(this.packArray(n[c],e[c]))}return i},unPackFrameData:function(t){for(var e,n=t[0],i=[],r=1,o=t.length;r<o;r++)e=t[r],i.push(this.unPackArray(n,e));return i},unPackArray:function(t,e){for(var n,i={},r=0,o=t.length;r<o;r++)if(n=t[r],"string"===typeof n)i[n]=e[r];else{if("[object Array]"==Object.prototype.toString.call(n)){for(var a=[],s=0,c=e.length;s<c;s++)a.push(this.unPackArray(n,e[s]));return a}for(var u in n)break;i[u]=this.unPackArray(n[u],e[r])}return i},toHash:function(){return this.setMetaData(),{metadata:this.metadata,frames:this.packedFrameData()}},export:function(t){var e=JSON.stringify(this.toHash());return"json"==t?e:i.compressToBase64(e)},save:function(t){var e;e=this.metadata.title?this.metadata.title.replace(/\s/g,""):"leap-playback-recording",this.metadata.frameRate&&(e+="-"+Math.round(this.metadata.frameRate)+"fps"),"json"===t?saveAs(new Blob([this.export("json")],{type:"text/JSON;charset=utf-8"}),e+".json"):saveAs(new Blob([this.export("lz")],{type:"application/x-gzip;charset=utf-8"}),e+".json.lz")},decompress:function(t){return i.decompressFromBase64(t)},loaded:function(){return!(!this.frameData||!this.frameData.length)},loadFrameData:function(t){var e=new XMLHttpRequest,n=this.url,i=this;e.onreadystatechange=function(){e.readyState===e.DONE&&(200===e.status||0===e.status?e.responseText?i.finishLoad(e.responseText,t):console.error('Leap Playback: "'+n+'" seems to be unreachable or the file is empty.'):console.error("Leap Playback: Couldn't load \""+n+'" ('+e.status+")"))},e.addEventListener("progress",(function(t){if(i.options.loadProgress&&t.lengthComputable){var e=t.loaded/t.total;i.options.loadProgress(i,e,t)}})),this.loading=!0,e.open("GET",n,!0),e.send(null)},finishLoad:function(t,e){var n=this.url;"lz"==n.split(".")[n.split(".").length-1]&&(t=this.decompress(t)),t=JSON.parse(t),2==t.metadata.formatVersion&&(t.frames=this.unPackFrameData(t.frames)),this.metadata=t.metadata,console.log("Recording loaded:",this.metadata),this.loading=!1,e&&e.call(this,t.frames)}},function(){var i='<img class="playback-connect-leap" style="margin: 0px 2px -2px 0px; max-width: 100%;" src="data:image/gif;base64,R0lGODlh9AHmAPf/AOnxtbS0tc3eVTMzNM3NztvnhtbX1/Hy86ioqezs7Z6entzd3r7UJdHhZcnKzOjo6sXZO319fkJCQurq6xMTFPj65q2treHh4vT42uXl5/Lz9JCQkfP09FxcXebm54yMjsvMzSgoKdfleLGxsUtLTPDx8cHCwlNTVSIiI6CgoYSEhAUFBpmZmtHS1Li5ucHDxNHR0err7HZ2duDrl8XFxvP09vv98/Dx8trb3MjIyN7e3x4eHmZmZj4+PrzTHtDQ0uvs7dra2uzt7ZWVldfY2cPExtbX2AsLDImJiff4+MbHysjIyoCBgsXGyHp6er6+vsDVKm5ucOTk5XFxc83O0MbGx2FhYm1tbsDWLKWlpu70xRkZGkVFRtPU1pydoM/Q0bKztKamqCQkJeLi5O/w8Glpab/AwtjY2f7+/WtrbcfIytjZ26qrrDc4OdHS0nBxc7/VJ5KTlI6Oj9LS0/v8/b7UI3JzdMPDxIqKi5aWl7y9vi4uL8fHx3BwcNvc3pKSk62usCsrLN/f4Ly8vZydnp2dndXV1snJycXGym5vcefn6IuMjYWFhYODhiMjJCYmJ+fo6UhISR8fH/7+/hsbHP39/ejo6cHWLu/v8Lq7vPv7++nq6+3u7q+wsby9wL6/wvj4+Pz8/Pr6+vLy8+bn6O7u7vj4+e3u7/f3+PT19fn5+ff39/T09Pb29+jo6MHWL/b29vLy8vT09e7v8L2+v/Pz9O7u7/39/vHy9L2+wbi6ve/v7+no6fz9/fn6+vj5+fv7/Pr7+////v7//8XGx/X19vX29vb39+7v7/z8/enp6uPk5fr6+/n5+g8PENTU1Hh4eYeHh05OT+fo6JGSk0BAQOTl6CAgIS8vML+/wHNzc5eYmLa3t+Xm54OEhfn4+Y+PkFdXV1hZWv3++IiIiJGRkZubm3t8ff7+/35/gOjp6ru8vmRkZMTFyLO0tWJiY6eoqycnKGxsbkNDQ77TIl5eX6Kjo+Xm6QcHBwgICZSUlvLz8y0tLv///wAAAP///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4zLWMwMTEgNjYuMTQ1NjYxLCAyMDEyLzAyLzA2LTE0OjU2OjI3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQyMUExNDAzQjE2NzExRTNBMUE1RTA3Qjc0NDg0NDMxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQyMUExNDA0QjE2NzExRTNBMUE1RTA3Qjc0NDg0NDMxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDIxQTE0MDFCMTY3MTFFM0ExQTVFMDdCNzQ0ODQ0MzEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDIxQTE0MDJCMTY3MTFFM0ExQTVFMDdCNzQ0ODQ0MzEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMi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">',o='<img class="playback-move-hand" style="margin: 0px 2px -2px 0px; max-width: 100%;" src="data:image/gif;base64,R0lGODlh9AHtAPf/AJ2dnfT09KWlpZWVlejo6bGxsRwcHHl5eYmJiRMTFOrq66GhoYWFhcHCxObm54GBgdjY2GFhYcXGydPT0+Dg4OPj4319fQsLC0ZGRuTk5GlpaVVVVV5eXpGRkXFxcd7e3kFBQXV1ddbW1lJSUsDAwNvb221tbk1OTgMDAykpKaurqzw9PdTU1FlZWdzc3JiYmMjKzLu7u8jIyJubnPLy9M7Ozr2/wUlJSTo6OsLCwmRkZDY2NtDQ0DIyMr29vaytsKysrC4uLra2ttHS1CUlJtXX2MrKy6+vr5qamiEhIczMzM3O0LS0tMTExMbGxsbIyt7e4I2Njby8vOTl5qioqMPEx+rr7KqqrOjo6np6fNTV17i4uMzNzo+Pj3Z3ePHx8rm7veDh4uzt7r/AwoeHh8PDxM/Q0sTFx42OkMDBw+fo6bW3utjZ2vHy8tHR0sjJyru8v+Xl5d3d3dzc3mNjZJ+fn2pra+np6t/f4OLj5NPT1V9fYFdXV8HCxsDBxbO0tq6vsqqsrk9PT0tLS5KTlGdnZ4uMjn1+gHd4e1JTUzs7PEJCQzMzMysrK+fn6P7+/v////39/fPz8+7u7/z8/Pv7+/f39/b29vr6+vj4+Pn5+e7u7vLy8u/v7+3t7ezs7PDw8Ozs7fHx8fDw8fb29/Ly8/X19fr6+/z8/fn5+tvc3e/v8HNzdKmpqvf3+CMjJPDx8fP09OPk5ZmZmvj5+Xt8flBQUP39/mtsbvLz8+/w8Nra3NXW15+govr7+x8fH7m5uicnJ+fn6ezt7Zqcn7Kzs7S0s1hYWLe4uvz9/aanqq2trf3+/ouLi2NkZqOjo5aXmqKkppeYmmBgYPv7/JSVl4ODg4eHihcXFw8PD/7//9HS0kBAQOHh4mhoa0RERDAwMPf4+AcHB+vr7NfX11xcXKenp5manJqameXm6ExMTcjHyfv8/G9vb/j4+UdHRywsLHN0dj4+PsrLzTQ0NObm6Obn6efm6Ly9v39/fzc4OL2+v+3s7fb39wAAAP///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4zLWMwMTEgNjYuMTQ1NjYxLCAyMDEyLzAyLzA2LTE0OjU2OjI3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQyMUExNDA3QjE2NzExRTNBMUE1RTA3Qjc0NDg0NDMxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQyMUExNDA4QjE2NzExRTNBMUE1RTA3Qjc0NDg0NDMxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDIxQTE0MDVCMTY3MTFFM0ExQTVFMDdCNzQ0ODQ0MzEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDIxQTE0MDZCMTY3MTFFM0ExQTVFMDdCNzQ0ODQ0MzEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMi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" />';function a(t,e){var n=this;e||(e={}),this.options=e,this.recording=e.recording,this.controller=t,this.resetTimers(),this.setupLoops(),this.controller.connection.on("ready",(function(){n.setupProtocols()})),this.userHasControl=!1,e.recording&&("[object String]"==Object.prototype.toString.call(e.recording)&&(e.recording={url:e.recording}),this.setRecording(e.recording)),document.addEventListener("DOMContentLoaded",(function(t){document.body.addEventListener("keydown",(function(t){t.which===n.options.pauseHotkey&&n.toggle()}),!1)}))}a.prototype={resetTimers:function(){this.timeSinceLastFrame=0,this.lastFrameTime=null},setupLoops:function(){var t=this;this.stepFrameLoop=function(e){"playing"==t.state&&(t.sendFrameAt(e||performance.now()),requestAnimationFrame(t.stepFrameLoop))}},setupProtocols:function(){var t=this;for(var e in this.stopProtocol=this.controller.connection.protocol,this.playbackProtocol=function(e){var n=t.stopProtocol(e);return n instanceof Leap.Frame?(t.pauseOnHand&&(e.hands.length>0?(t.userHasControl=!0,t.controller.emit("playback.userTakeControl"),t.setGraphic(),t.idle()):0==e.hands.length&&t.userHasControl&&t.resumeOnHandLost&&(t.userHasControl=!1,t.controller.emit("playback.userReleaseControl"),t.setGraphic("wave"))),{type:"playback"}):n},this.recordProtocol=function(e){var n=t.stopProtocol(e);return n instanceof Leap.Frame&&t.recordFrameHandler(e),n},this.stopProtocol)this.stopProtocol.hasOwnProperty(e)&&(this.playbackProtocol[e]=this.stopProtocol[e],this.recordProtocol[e]=this.stopProtocol[e]);"playing"==this.state&&(this.controller.connection.protocol=this.playbackProtocol)},sendFrameAt:function(t){var e;this.lastFrameTime&&(t<this.lastFrameTime?this.lastFrameTime=t:this.timeSinceLastFrame+=t-this.lastFrameTime),this.lastFrameTime=t;while(this.timeSinceLastFrame>(e=this.recording.timeToNextFrame()))if(this.timeSinceLastFrame-=e,!this.recording.advanceFrame())return this.pause(),void this.controller.emit("playback.playbackFinished",this);this.sendFrame(this.recording.createLerpFrameData(this.timeSinceLastFrame/e))},sendFrame:function(t){if(!t)throw"Frame data not provided";var e=new Leap.Frame(t);return this.controller.processFrame(e),!0},sendImmediateFrame:function(t){if(!t)throw"Frame data not provided";var e=new Leap.Frame(t);return this.controller.processFinishedFrame(e),!0},setFrameIndex:function(t){t!=this.recording.frameIndex&&(this.recording.frameIndex=t%this.recording.frameCount,this.sendFrame(this.recording.currentFrame()))},stop:function(){this.idle(),delete this.recording,this.recording=new r({timeBetweenLoops:this.options.timeBetweenLoops,loop:this.options.loop,requestProtocolVersion:this.controller.connection.opts.requestProtocolVersion,serviceVersion:this.controller.connection.protocol.serviceVersion}),this.controller.emit("playback.stop",this)},pause:function(){this.state="idle",this.hideOverlay(),this.controller.emit("playback.pause",this)},idle:function(){this.state="idle",this.controller.connection.protocol=this.stopProtocol},toggle:function(){"idle"==this.state?this.play():"playing"==this.state&&this.pause()},record:function(){this.clear(),this.stop(),this.state="recording",this.controller.connection.protocol=this.recordProtocol,this.setGraphic("connect"),this.controller.emit("playback.record",this)},clear:function(){if(this.recording&&!this.recording.blank()){var t=this.recording.cloneCurrentFrame();t.hands=[],t.fingers=[],t.pointables=[],t.tools=[],this.sendImmediateFrame(t)}},recordPending:function(){return"recording"==this.state&&this.recording.blank()},isRecording:function(){return"recording"==this.state&&!this.recording.blank()},finishRecording:function(){this.controller.connection.protocol=this.playbackProtocol,this.recording.setFrames(this.recording.frameData),this.controller.emit("playback.recordingFinished",this)},loaded:function(){return this.recording.loaded()},loading:function(){return this.recording.loading},play:function(){if("playing"!==this.state&&!this.loading()&&!this.recording.blank()){this.state="playing",this.controller.connection.protocol=this.playbackProtocol;var t=this;this.controller.connection.removeAllListeners("frame"),this.controller.connection.on("frame",(function(e){t.resumeOnHandLost&&t.autoPlay&&"idle"==t.state&&0==e.hands.length&&t.play(),t.controller.processFrame(e)})),this.resetTimers(),this.recording.readyPlay(),this.stepFrameLoop(),this.controller.emit("playback.play",this)}},recordFrameHandler:function(t){this.setGraphic("wave"),t.hands.length>0?(this.recording.addFrame(t),this.hideOverlay()):this.recording.blank()||this.finishRecording()},setRecording:function(t){var e=this;this.pause();var n=function(t){this.setFrames(t),e.recording==this?(e.autoPlay&&(e.play(),e.pauseOnHand&&!e.controller.streaming()&&e.setGraphic("connect")),e.controller.emit("playback.recordingSet",this)):console.log("recordings changed during load")};return this.recording=t,t instanceof r||(this.recording.__proto__=r.prototype,r.call(this.recording,{timeBetweenLoops:this.options.timeBetweenLoops,loop:this.options.loop,loadProgress:function(t,n,i){e.controller.emit("playback.ajax:progress",t,n,i)}})),this.recording.loaded()?n.call(this.recording,this.recording.frameData):t.url&&(this.controller.emit("playback.ajax:begin",this,this.recording),this.recording.loadFrameData((function(t){n.call(this,t),e.controller.emit("playback.ajax:complete",e,this)}))),this},hideOverlay:function(){this.overlay&&(this.overlay.style.display="none")},setGraphic:function(t){if(this.overlay&&this.graphicName!=t)switch(this.graphicName=t,t){case"connect":this.overlay.style.display="block",this.overlay.innerHTML=i;break;case"wave":this.overlay.style.display="block",this.overlay.innerHTML=o;break;case n:this.overlay.innerHTML="";break}}};var s=function(t){var i=this,r=t.autoPlay;r===n&&(r=!0);var o=t.pauseOnHand;o===n&&(o=!0);var s=t.resumeOnHandLost;s===n&&(s=!0);var c=t.timeBetweenLoops;c===n&&(c=50);var u=t.requiredProtocolVersion,l=t.pauseHotkey;l===n&&(l=32);var h=t.loop;h===n&&(h=!0);var d=t.overlay;d===n&&document.body&&(d=document.createElement("div"),document.body.appendChild(d),d.style.width="100%",d.style.position="absolute",d.style.top="0",d.style.left="-"+e.getComputedStyle(document.body).getPropertyValue("margin"),d.style.padding="10px",d.style.textAlign="center",d.style.fontSize="18px",d.style.opacity="0.8",d.style.display="none",d.style.zIndex="10",d.id="connect-leap",d.style.cursor="pointer",d.addEventListener("click",(function(){return this.style.display="none",!1}),!1)),t.player=new a(this,{recording:t.recording,loop:h,pauseHotkey:l,timeBetweenLoops:c}),t.player.overlay=d,t.player.pauseOnHand=o,t.player.resumeOnHandLost=s,t.player.requiredProtocolVersion=u,t.player.autoPlay=r;var p=function(){if(t.player.pauseOnHand&&i.connection.opts.requestProtocolVersion<t.requiredProtocolVersion)return console.log("Protocol Version too old ("+i.connection.opts.requestProtocolVersion+"), disabling device interaction."),void(t.player.pauseOnHand=!1);r&&(i.on("streamingStarted",(function(){"recording"==t.player.state?(t.player.pause(),t.player.setGraphic("wave")):o?t.player.setGraphic("wave"):t.player.setGraphic()})),i.on("streamingStopped",(function(){t.player.play()}))),i.on("streamingStopped",(function(){t.player.setGraphic("connect")}))};return this.connection.connected?p():this.on("ready",p),{}};"undefined"!==typeof Leap&&Leap.Controller?Leap.Controller.plugin("playback",s):t.exports.playback=s}.call(this)}(window),function(){var e;e=function(t){var e,n,i,r;return null==t&&(t={}),t.positioning||(t.positioning="absolute"),t.scale||(t.scale=1),t.scaleX||(t.scaleX=1),t.scaleY||(t.scaleY=1),t.scaleZ||(t.scaleZ=1),t.verticalOffset||(t.verticalOffset=0),e=6,n=-100,r={absolute:function(i){return[window.innerWidth/2+i[0]*e*t.scale*t.scaleX,window.innerHeight+n+t.verticalOffset-i[1]*e*t.scale*t.scaleY,i[2]*e*t.scale*t.scaleZ]}},i=function(e,n){var i;return null==n&&(n=!1),i="function"===typeof t.positioning?t.positioning.call(this,e):r[t.positioning].call(this,e),n&&(this.screenPositionVec3=i),i},{hand:{screenPosition:function(t){return i.call(this,t||this.palmPosition,!t)}},pointable:{screenPosition:function(t){return i.call(this,t||this.tipPosition,!t)}}}},"undefined"!==typeof Leap&&Leap.Controller?Leap.Controller.plugin("screenPosition",e):t.exports.screenPosition=e}.call(void 0),function(){var t=[].slice;Leap.plugin("transform",(function(n){var i,r,o,a,s,c;return null==n&&(n={}),i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],c=new e["Matrix4"],!0===n.vr&&(this.setOptimizeHMD(!0),n.quaternion=(new e["Quaternion"]).setFromRotationMatrix((new e["Matrix4"]).set(-1,0,0,0,0,0,-1,0,0,-1,0,0,0,0,0,1)),n.scale=.001,n.position=new e["Vector3"](0,0,-.08)),n.getTransform=function(t){var r;return n.matrix?(r="function"===typeof n.matrix?n.matrix(t):n.matrix,window["THREE"]&&r instanceof e["Matrix4"]?r.elements:r):n.position||n.quaternion||n.scale?(c.set.apply(c,i),n.quaternion&&c.makeRotationFromQuaternion("function"===typeof n.quaternion?n.quaternion(t):n.quaternion),n.position&&c.setPosition("function"===typeof n.position?n.position(t):n.position),c.elements):i},n.getScale=function(t){return isNaN(n.scale)||(n.scale=new e["Vector3"](n.scale,n.scale,n.scale)),"function"===typeof n.scale?n.scale(t):n.scale},a=function(){var e,n,i,r,o,a;for(e=arguments[0],i=2<=arguments.length?t.call(arguments,1):[],a=[],r=0,o=i.length;r<o;r++)n=i[r],n?a.push(Leap.vec3.transformMat4(n,n,e)):a.push(void 0);return a},o=function(t,e,n){var i,r,o;return i=e[0],r=e[1],o=e[2],t[0]=n[0]*i+n[4]*r+n[8]*o,t[1]=n[1]*i+n[5]*r+n[9]*o,t[2]=n[2]*i+n[6]*r+n[10]*o,t},r=function(){var e,n,i,r,a,s;for(e=arguments[0],i=2<=arguments.length?t.call(arguments,1):[],s=[],r=0,a=i.length;r<a;r++)n=i[r],n?s.push(o(n,n,e)):s.push(void 0);return s},s=function(t,e,n){var i,o,s,c,u,l,h,d;for(r(e,t.direction,t.palmNormal,t.palmVelocity,t.arm.basis[0],t.arm.basis[1],t.arm.basis[2]),h=t.fingers,s=0,u=h.length;s<u;s++)i=h[s],r(e,i.direction,i.metacarpal.basis[0],i.metacarpal.basis[1],i.metacarpal.basis[2],i.proximal.basis[0],i.proximal.basis[1],i.proximal.basis[2],i.medial.basis[0],i.medial.basis[1],i.medial.basis[2],i.distal.basis[0],i.distal.basis[1],i.distal.basis[2]);for(Leap.glMatrix.mat4.scale(e,e,n),a(e,t.palmPosition,t.stabilizedPalmPosition,t.sphereCenter,t.arm.nextJoint,t.arm.prevJoint),d=t.fingers,c=0,l=d.length;c<l;c++)i=d[c],a(e,i.carpPosition,i.mcpPosition,i.pipPosition,i.dipPosition,i.distal.nextJoint,i.tipPosition);return o=(n[0]+n[1]+n[2])/3,t.arm.width*=o},{frame:function(t){var i,r,o,a,c,u,l,h,d,p;if(t.valid&&!t.data.transformed){for(t.data.transformed=!0,h=t.hands,p=[],a=0,u=h.length;a<u;a++){for(r=h[a],s(r,n.getTransform(r),(n.getScale(r)||new e["Vector3"](1,1,1)).toArray()),n.effectiveParent&&s(r,n.effectiveParent.matrixWorld.elements,n.effectiveParent.scale.toArray()),o=null,d=r.fingers,c=0,l=d.length;c<l;c++)i=d[c],o=Leap.vec3.create(),Leap.vec3.sub(o,i.mcpPosition,i.carpPosition),i.metacarpal.length=Leap.vec3.length(o),Leap.vec3.sub(o,i.pipPosition,i.mcpPosition),i.proximal.length=Leap.vec3.length(o),Leap.vec3.sub(o,i.dipPosition,i.pipPosition),i.medial.length=Leap.vec3.length(o),Leap.vec3.sub(o,i.tipPosition,i.dipPosition),i.distal.length=Leap.vec3.length(o);Leap.vec3.sub(o,r.arm.prevJoint,r.arm.nextJoint),p.push(r.arm.length=Leap.vec3.length(o))}return p}}}}))}.call(void 0),function(){var e;e=function(t){return t.alert||(t.alert=!1),t.requiredProtocolVersion||(t.requiredProtocolVersion=6),t.disconnect||(t.disconnect=!0),"undefined"!==typeof Leap&&Leap.Controller&&Leap.version.minor<5&&Leap.version.dot<4&&console.warn("LeapJS Version Check plugin incompatible with LeapJS pre 0.4.4"),this.on("ready",(function(){var e,n,i;if(i=t.requiredProtocolVersion,e=this.connection.opts.requestProtocolVersion,e<i)return n="Protocol Version too old. v"+i+" required, v"+e+" available.",t.disconnect&&(this.disconnect(),n+=" Disconnecting."),console.warn(n),t.alert&&alert("Your Leap Software version is out of date.  Visit http://www.leapmotion.com/setup to update"),this.emit("versionCheck.outdated",{required:i,current:e,disconnect:t.disconnect})})),{}},"undefined"!==typeof Leap&&Leap.Controller?Leap.Controller.plugin("versionCheck",e):t.exports.versionCheck=e}.call(void 0)}).call(this,n("dd40")(t))},c367:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAzNC42IDM0LjYiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM0LjYgMzQuNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLW1pdGVybGltaXQ6MTA7fQoJLnN0MXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9Cgkuc3Qye2ZpbGw6I0ZGRkZGRjtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41O3N0cm9rZS1taXRlcmxpbWl0OjEwO30KPC9zdHlsZT4KPGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iMTciIGN5PSIxNyIgcj0iMTUuOSIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMjMuNiwxMy44SDkuOGMtMC44LDAtMS40LTAuNi0xLjQtMS40VjcuM2MwLTAuOCwwLjYtMS40LDEuNC0xLjRoMTMuOGMwLjgsMCwxLjQsMC42LDEuNCwxLjR2NS4xCglDMjUsMTMuMiwyNC40LDEzLjgsMjMuNiwxMy44eiIvPgo8cGF0aCBjbGFzcz0ic3QyIiBkPSJNMTEuNywyNi43YzAuNywxLjQsMi4zLDMuMywzLjksMy4zaDQuN2MwLjMsMCwwLjUsMCwwLjgtMC4yYzAuNi0wLjMsMS44LTEsMi4xLTIuNGMwLjQtMiwwLjktNC41LDAuOS05LjUKCWMwLTAuNi0wLjUtMS4xLTEuMS0xLjFjLTAuNiwwLTEuMSwwLjUtMS4xLDEuMWwwLDAuMWwwLDBjMCwwLjEtMC4xLDAuMy0wLjIsMC4zYy0wLjIsMC4xLTAuNS0wLjEtMC41LTAuM2MwLDAsMCwwLDAsMGwwLTAuOAoJYzAtMC42LTAuNS0xLjEtMS4yLTEuMWMtMC42LDAtMS4xLDAuNS0xLjIsMS4xbDAsMC44bDAsMGMwLDAuMS0wLjEsMC4zLTAuMiwwLjNjLTAuMiwwLjEtMC41LTAuMS0wLjUtMC4zYzAsMCwwLDAsMCwwbDAtMS41CgljMC0wLjYtMC41LTEuMS0xLjItMS4xYy0wLjYsMC0xLjEsMC41LTEuMiwxLjFsMCwxLjNsMCwwYzAsMC4xLTAuMSwwLjMtMC4yLDAuM2MtMC4yLDAuMS0wLjUtMC4xLTAuNS0wLjNjMCwwLDAsMCwwLDBsMC0wLjQKCWMwLTAuMiwwLTAuNCwwLTAuNGwwLTcuMmMwLTAuNi0wLjUtMS4yLTEuMS0xLjNjLTAuNywwLTEuMywwLjUtMS4zLDEuMmMwLDAsMCw3LjgsMCw5LjhsMCwyLjFjMCwwLDAsMCwwLDBjMCwwLTAuNywwLjMtMS4xLTAuMgoJYy0wLjUtMC42LTEtMi4xLTMuMS0yLjJjLTAuMiwwLTAuNSwwLTAuOCwwLjRjLTAuMSwwLjEtMC4xLDAuMy0wLjEsMC40YzAsMC4zLDAuMiwwLjYsMC41LDAuN2MwLDAsMCwwLDAsMGMwLjUsMC4zLDEuNywxLjksMi4zLDMuMQoJQzEwLjUsMjQuMSwxMS4yLDI1LjgsMTEuNywyNi43eiIvPgo8L3N2Zz4K"},e87e:function(t,e,n){}}]);